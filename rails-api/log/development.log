Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:43:05 -0500
  [1m[35m (1.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"9_XWVS2YRypfHmIN71VbyQ\":{\"token\":\"$2a$10$tn3uMcyYWpaeGwY.imCKluvo774GI7mngyKGDQHEzynra/cJRSPJu\",\"expiry\":1516920185,\"last_token\":\"$2a$10$KdUUvBUREJ19Y2oK9TLZWuVEzVloxwGhFclDQeVHvyQPE0eQbBVwK\",\"updated_at\":\"2018-01-11T17:43:05.962-05:00\"}}"], ["updated_at", "2018-01-11 22:43:05.963856"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 203ms (Views: 0.3ms | ActiveRecord: 9.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:43:05 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"9_XWVS2YRypfHmIN71VbyQ\":{\"token\":\"$2a$10$tn3uMcyYWpaeGwY.imCKluvo774GI7mngyKGDQHEzynra/cJRSPJu\",\"expiry\":1516920185,\"last_token\":\"$2a$10$KdUUvBUREJ19Y2oK9TLZWuVEzVloxwGhFclDQeVHvyQPE0eQbBVwK\",\"updated_at\":\"2018-01-11T17:43:06.118-05:00\"}}"], ["updated_at", "2018-01-11 22:43:06.118912"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 148ms (Views: 0.2ms | ActiveRecord: 3.6ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 17:44:34 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"1xwDsv6rT10B2", "favorite"=>{"giphy_id"=>"1xwDsv6rT10B2"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "1xwDsv6rT10B2"], ["user_id", 1], ["created_at", "2018-01-11 22:44:34.224843"], ["updated_at", "2018-01-11 22:44:34.224843"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"9_XWVS2YRypfHmIN71VbyQ\":{\"token\":\"$2a$10$m/nEB41WidCPiWVdO3IPVeJ8yC5s/FNpyNQr6sl/y091dY/QFDSDa\",\"expiry\":1516920274,\"last_token\":\"$2a$10$tn3uMcyYWpaeGwY.imCKluvo774GI7mngyKGDQHEzynra/cJRSPJu\",\"updated_at\":\"2018-01-11T17:44:34.299-05:00\"}}"], ["updated_at", "2018-01-11 22:44:34.300253"], ["id", 1]]
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 173ms (ActiveRecord: 12.3ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:44:41 -0500
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 17:44:41 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"9_XWVS2YRypfHmIN71VbyQ\":{\"token\":\"$2a$10$YENFjTOFlcKQXNZ9AUd7helkOgDJs3usZVS.pMFpxA/G/NERTnxoy\",\"expiry\":1516920281,\"last_token\":\"$2a$10$m/nEB41WidCPiWVdO3IPVeJ8yC5s/FNpyNQr6sl/y091dY/QFDSDa\",\"updated_at\":\"2018-01-11T17:44:41.153-05:00\"}}"], ["updated_at", "2018-01-11 22:44:41.153933"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 147ms (Views: 0.2ms | ActiveRecord: 2.8ms)


  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"9_XWVS2YRypfHmIN71VbyQ\":{\"token\":\"$2a$10$YENFjTOFlcKQXNZ9AUd7helkOgDJs3usZVS.pMFpxA/G/NERTnxoy\",\"expiry\":1516920281,\"last_token\":\"$2a$10$m/nEB41WidCPiWVdO3IPVeJ8yC5s/FNpyNQr6sl/y091dY/QFDSDa\",\"updated_at\":\"2018-01-11T17:44:41.320-05:00\"}}"], ["updated_at", "2018-01-11 22:44:41.320597"], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 314ms (Views: 3.8ms | ActiveRecord: 83.5ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 17:46:32 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"3ohjUW7DBj1HyEDbTW", "favorite"=>{"giphy_id"=>"3ohjUW7DBj1HyEDbTW"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.8ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "3ohjUW7DBj1HyEDbTW"], ["user_id", 1], ["created_at", "2018-01-11 22:46:32.342282"], ["updated_at", "2018-01-11 22:46:32.342282"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 76ms (ActiveRecord: 3.7ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_favorites_on_giphy_id"
DETAIL:  Key (giphy_id)=(3ohjUW7DBj1HyEDbTW) already exists.
: INSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"):
  
app/controllers/api/favorites_controller.rb:7:in `create'
Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:46:56 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 17:46:56 -0500
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (1.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mUser Load (0.9ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (77.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"9_XWVS2YRypfHmIN71VbyQ\":{\"token\":\"$2a$10$rouUZWfN.SjwxM/IJVNlSOGOCKduiBGpplhE3dYae1yZVjJhpiFQi\",\"expiry\":1516920417,\"last_token\":\"$2a$10$YENFjTOFlcKQXNZ9AUd7helkOgDJs3usZVS.pMFpxA/G/NERTnxoy\",\"updated_at\":\"2018-01-11T17:46:57.056-05:00\"}}"], ["updated_at", "2018-01-11 22:46:57.057578"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 92ms (Views: 0.2ms | ActiveRecord: 4.6ms)


  [1m[36mUser Load (1.7ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"9_XWVS2YRypfHmIN71VbyQ\":{\"token\":\"$2a$10$rouUZWfN.SjwxM/IJVNlSOGOCKduiBGpplhE3dYae1yZVjJhpiFQi\",\"expiry\":1516920417,\"last_token\":\"$2a$10$YENFjTOFlcKQXNZ9AUd7helkOgDJs3usZVS.pMFpxA/G/NERTnxoy\",\"updated_at\":\"2018-01-11T17:46:57.061-05:00\"}}"], ["updated_at", "2018-01-11 22:46:57.062212"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 93ms (Views: 4.1ms | ActiveRecord: 81.6ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:48:42 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"9_XWVS2YRypfHmIN71VbyQ\":{\"token\":\"$2a$10$cKfTtXEbeONWs5CtE12JZOguFCJKD3W9oYY8m36GnxwBewHbVJ7sG\",\"expiry\":1516920523,\"last_token\":\"$2a$10$rouUZWfN.SjwxM/IJVNlSOGOCKduiBGpplhE3dYae1yZVjJhpiFQi\",\"updated_at\":\"2018-01-11T17:48:43.062-05:00\"}}"], ["updated_at", "2018-01-11 22:48:43.063459"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 148ms (Views: 0.2ms | ActiveRecord: 4.0ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 17:48:49 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"3o6Zt4XnTSJcS659g4", "favorite"=>{"giphy_id"=>"3o6Zt4XnTSJcS659g4"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "3o6Zt4XnTSJcS659g4"], ["user_id", 1], ["created_at", "2018-01-11 22:48:49.654204"], ["updated_at", "2018-01-11 22:48:49.654204"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"9_XWVS2YRypfHmIN71VbyQ\":{\"token\":\"$2a$10$b0fgGPfEzDM/LtK4ZKLWE.hB8TrLRFSiIQbDq8Ad2l8YBO4qBDACi\",\"expiry\":1516920529,\"last_token\":\"$2a$10$cKfTtXEbeONWs5CtE12JZOguFCJKD3W9oYY8m36GnxwBewHbVJ7sG\",\"updated_at\":\"2018-01-11T17:48:49.731-05:00\"}}"], ["updated_at", "2018-01-11 22:48:49.732481"], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 158ms (ActiveRecord: 6.5ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:49:03 -0500
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 17:49:03 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Load (1.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"9_XWVS2YRypfHmIN71VbyQ\":{\"token\":\"$2a$10$0TguozK/e/GIfGZ7ZoCKC.npJg2.r0k4/r8hibITZ6xVQudxIcMdu\",\"expiry\":1516920543,\"last_token\":\"$2a$10$b0fgGPfEzDM/LtK4ZKLWE.hB8TrLRFSiIQbDq8Ad2l8YBO4qBDACi\",\"updated_at\":\"2018-01-11T17:49:03.921-05:00\"}}"], ["updated_at", "2018-01-11 22:49:03.921991"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 161ms (Views: 0.2ms | ActiveRecord: 3.0ms)


  [1m[36mUser Load (77.3ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"9_XWVS2YRypfHmIN71VbyQ\":{\"token\":\"$2a$10$0TguozK/e/GIfGZ7ZoCKC.npJg2.r0k4/r8hibITZ6xVQudxIcMdu\",\"expiry\":1516920543,\"last_token\":\"$2a$10$b0fgGPfEzDM/LtK4ZKLWE.hB8TrLRFSiIQbDq8Ad2l8YBO4qBDACi\",\"updated_at\":\"2018-01-11T17:49:03.925-05:00\"}}"], ["updated_at", "2018-01-11 22:49:03.926356"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 165ms (Views: 2.2ms | ActiveRecord: 81.6ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:49:08 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 17:49:08 -0500
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (1.2ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFavorite Load (2.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35mSQL (2.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"9_XWVS2YRypfHmIN71VbyQ\":{\"token\":\"$2a$10$0TguozK/e/GIfGZ7ZoCKC.npJg2.r0k4/r8hibITZ6xVQudxIcMdu\",\"expiry\":1516920543,\"last_token\":\"$2a$10$b0fgGPfEzDM/LtK4ZKLWE.hB8TrLRFSiIQbDq8Ad2l8YBO4qBDACi\",\"updated_at\":\"2018-01-11T17:49:08.162-05:00\"}}"], ["updated_at", "2018-01-11 22:49:08.162800"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 88ms (Views: 0.2ms | ActiveRecord: 7.1ms)


  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"9_XWVS2YRypfHmIN71VbyQ\":{\"token\":\"$2a$10$0TguozK/e/GIfGZ7ZoCKC.npJg2.r0k4/r8hibITZ6xVQudxIcMdu\",\"expiry\":1516920543,\"last_token\":\"$2a$10$b0fgGPfEzDM/LtK4ZKLWE.hB8TrLRFSiIQbDq8Ad2l8YBO4qBDACi\",\"updated_at\":\"2018-01-11T17:49:08.169-05:00\"}}"], ["updated_at", "2018-01-11 22:49:08.170374"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 92ms (Views: 2.5ms | ActiveRecord: 5.9ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:49:14 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 17:49:14 -0500
  Parameters: {"token_validation"=>{}}
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Load (1.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"9_XWVS2YRypfHmIN71VbyQ\":{\"token\":\"$2a$10$fGWycHHJG9UQTUZsF5fS9.2PJd8gd3Gpv/xfRaW9VgRSgUXNCVYgG\",\"expiry\":1516920554,\"last_token\":\"$2a$10$0TguozK/e/GIfGZ7ZoCKC.npJg2.r0k4/r8hibITZ6xVQudxIcMdu\",\"updated_at\":\"2018-01-11T17:49:14.513-05:00\"}}"], ["updated_at", "2018-01-11 22:49:14.514442"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (80.2ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 91ms (Views: 0.3ms | ActiveRecord: 5.0ms)


  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"9_XWVS2YRypfHmIN71VbyQ\":{\"token\":\"$2a$10$fGWycHHJG9UQTUZsF5fS9.2PJd8gd3Gpv/xfRaW9VgRSgUXNCVYgG\",\"expiry\":1516920554,\"last_token\":\"$2a$10$0TguozK/e/GIfGZ7ZoCKC.npJg2.r0k4/r8hibITZ6xVQudxIcMdu\",\"updated_at\":\"2018-01-11T17:49:14.520-05:00\"}}"], ["updated_at", "2018-01-11 22:49:14.521385"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 96ms (Views: 3.6ms | ActiveRecord: 85.4ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:49:49 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 17:49:49 -0500
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (7.4ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"9_XWVS2YRypfHmIN71VbyQ\":{\"token\":\"$2a$10$gm3uxS.lo0u7ARey3dtFj.RfprJweygPP.F5m3uqmcFjO74FzHWKS\",\"expiry\":1516920589,\"last_token\":\"$2a$10$fGWycHHJG9UQTUZsF5fS9.2PJd8gd3Gpv/xfRaW9VgRSgUXNCVYgG\",\"updated_at\":\"2018-01-11T17:49:49.978-05:00\"}}"], ["updated_at", "2018-01-11 22:49:49.979142"], ["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-11 22:49:49.982430"], ["id", 1]]
Completed 200 OK in 170ms (Views: 0.3ms | ActiveRecord: 11.5ms)


  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 85ms (Views: 0.1ms | ActiveRecord: 3.7ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:53:13 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 29ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:53:13 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (3.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 6ms (Views: 0.2ms | ActiveRecord: 3.1ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:53:28 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:53:28 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.2ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 17:53:32 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:54:58 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Started POST "/auth/sign_in" for 127.0.0.1 at 2018-01-11 17:55:13 -0500
Processing by DeviseTokenAuth::SessionsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "session"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]"}}
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (email = 'sean@example.com' AND provider='email') ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"vXzB3B9qg6oKoJxEH9Z5tQ\":{\"token\":\"$2a$10$XzzIDBPvtzUzvwEXC6ZFLunI5ZrVbkzZItw5T2mZHaASz0/btKgjq\",\"expiry\":1516920913}}"], ["updated_at", "2018-01-11 22:55:13.334507"], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["sign_in_count", 2], ["current_sign_in_at", "2018-01-11 22:55:13.339040"], ["updated_at", "2018-01-11 22:55:13.339773"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"vXzB3B9qg6oKoJxEH9Z5tQ\":{\"token\":\"$2a$10$cLGL52WR20LsI76Abow4/u/ic4zweQ/quYuWjmD9PS2.xnNXJP3/a\",\"expiry\":1516920913,\"last_token\":\"$2a$10$XzzIDBPvtzUzvwEXC6ZFLunI5ZrVbkzZItw5T2mZHaASz0/btKgjq\",\"updated_at\":\"2018-01-11T17:55:13.410-05:00\"}}"], ["updated_at", "2018-01-11 22:55:13.411112"], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 228ms (Views: 0.2ms | ActiveRecord: 8.2ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:55:13 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"vXzB3B9qg6oKoJxEH9Z5tQ\":{\"token\":\"$2a$10$cLGL52WR20LsI76Abow4/u/ic4zweQ/quYuWjmD9PS2.xnNXJP3/a\",\"expiry\":1516920913,\"last_token\":\"$2a$10$XzzIDBPvtzUzvwEXC6ZFLunI5ZrVbkzZItw5T2mZHaASz0/btKgjq\",\"updated_at\":\"2018-01-11T17:55:13.513-05:00\"}}"], ["updated_at", "2018-01-11 22:55:13.514320"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 82ms (Views: 0.2ms | ActiveRecord: 3.6ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:55:34 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"vXzB3B9qg6oKoJxEH9Z5tQ\":{\"token\":\"$2a$10$3Jv9KJQ9rIO7lHo19g2O6uxRFBWQDR9lMtdu5x9OXrGRcM3AeMaF6\",\"expiry\":1516920935,\"last_token\":\"$2a$10$cLGL52WR20LsI76Abow4/u/ic4zweQ/quYuWjmD9PS2.xnNXJP3/a\",\"updated_at\":\"2018-01-11T17:55:35.008-05:00\"}}"], ["updated_at", "2018-01-11 22:55:35.009293"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 74ms (Views: 0.2ms | ActiveRecord: 3.7ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:55:35 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"vXzB3B9qg6oKoJxEH9Z5tQ\":{\"token\":\"$2a$10$3Jv9KJQ9rIO7lHo19g2O6uxRFBWQDR9lMtdu5x9OXrGRcM3AeMaF6\",\"expiry\":1516920935,\"last_token\":\"$2a$10$cLGL52WR20LsI76Abow4/u/ic4zweQ/quYuWjmD9PS2.xnNXJP3/a\",\"updated_at\":\"2018-01-11T17:55:35.342-05:00\"}}"], ["updated_at", "2018-01-11 22:55:35.343200"], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 151ms (Views: 0.3ms | ActiveRecord: 4.2ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 17:55:39 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-11 22:55:39.890889"], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 2.9ms)


Started POST "/auth/sign_in" for 127.0.0.1 at 2018-01-11 17:55:48 -0500
Processing by DeviseTokenAuth::SessionsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "session"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]"}}
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (email = 'sean@example.com' AND provider='email') ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"t7buZTaXmvB7T4WkKh_U9A\":{\"token\":\"$2a$10$YUC7p9sHYuBuioO70ugMo.pYbZjvV4qK5yYYQh6pKCNW95t3byXH.\",\"expiry\":1516920948}}"], ["updated_at", "2018-01-11 22:55:48.725289"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 3], ["current_sign_in_at", "2018-01-11 22:55:48.729531"], ["last_sign_in_at", "2018-01-11 22:55:13.339040"], ["updated_at", "2018-01-11 22:55:48.730194"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"t7buZTaXmvB7T4WkKh_U9A\":{\"token\":\"$2a$10$6qIrP97zVSWkpaR66LvzvOZSlFMBgG7XEXxhuXV4fOzkCOZ30LMCG\",\"expiry\":1516920948,\"last_token\":\"$2a$10$YUC7p9sHYuBuioO70ugMo.pYbZjvV4qK5yYYQh6pKCNW95t3byXH.\",\"updated_at\":\"2018-01-11T17:55:48.805-05:00\"}}"], ["updated_at", "2018-01-11 22:55:48.806583"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 234ms (Views: 0.2ms | ActiveRecord: 8.3ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 17:55:48 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"t7buZTaXmvB7T4WkKh_U9A\":{\"token\":\"$2a$10$6qIrP97zVSWkpaR66LvzvOZSlFMBgG7XEXxhuXV4fOzkCOZ30LMCG\",\"expiry\":1516920948,\"last_token\":\"$2a$10$YUC7p9sHYuBuioO70ugMo.pYbZjvV4qK5yYYQh6pKCNW95t3byXH.\",\"updated_at\":\"2018-01-11T17:55:48.908-05:00\"}}"], ["updated_at", "2018-01-11 22:55:48.909334"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 82ms (Views: 0.2ms | ActiveRecord: 1.8ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 18:03:15 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-11 23:03:15.238945"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 6ms (Views: 0.2ms | ActiveRecord: 2.8ms)


Started POST "/auth/sign_in" for 127.0.0.1 at 2018-01-11 18:03:28 -0500
Processing by DeviseTokenAuth::SessionsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "session"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]"}}
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (email = 'sean@example.com' AND provider='email') ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"FboUI_f-X2vC_uBg1w9Srw\":{\"token\":\"$2a$10$vNyeUH02gqRkS9zvvmQsk.BxNuh0LvObco/xxYJ5JAOhpVZAZean2\",\"expiry\":1516921408}}"], ["updated_at", "2018-01-11 23:03:28.924758"], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 4], ["current_sign_in_at", "2018-01-11 23:03:28.929095"], ["last_sign_in_at", "2018-01-11 22:55:48.729531"], ["updated_at", "2018-01-11 23:03:28.929798"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"FboUI_f-X2vC_uBg1w9Srw\":{\"token\":\"$2a$10$PQ41hE3SkfVZJXDejKM2Rutqwpl0jVCdHDll9v8gL1mfwJwHvQxuq\",\"expiry\":1516921409,\"last_token\":\"$2a$10$vNyeUH02gqRkS9zvvmQsk.BxNuh0LvObco/xxYJ5JAOhpVZAZean2\",\"updated_at\":\"2018-01-11T18:03:29.002-05:00\"}}"], ["updated_at", "2018-01-11 23:03:29.003001"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 226ms (Views: 0.2ms | ActiveRecord: 7.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:03:29 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"FboUI_f-X2vC_uBg1w9Srw\":{\"token\":\"$2a$10$PQ41hE3SkfVZJXDejKM2Rutqwpl0jVCdHDll9v8gL1mfwJwHvQxuq\",\"expiry\":1516921409,\"last_token\":\"$2a$10$vNyeUH02gqRkS9zvvmQsk.BxNuh0LvObco/xxYJ5JAOhpVZAZean2\",\"updated_at\":\"2018-01-11T18:03:29.113-05:00\"}}"], ["updated_at", "2018-01-11 23:03:29.113835"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 81ms (Views: 0.4ms | ActiveRecord: 3.6ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:03:35 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 18:03:35 -0500
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"FboUI_f-X2vC_uBg1w9Srw\":{\"token\":\"$2a$10$6srdJcqS..XPK0Tu3f8Jbe0pkPzlySKxHGsxSmYfPxYu/s77wgVWm\",\"expiry\":1516921415,\"last_token\":\"$2a$10$PQ41hE3SkfVZJXDejKM2Rutqwpl0jVCdHDll9v8gL1mfwJwHvQxuq\",\"updated_at\":\"2018-01-11T18:03:35.657-05:00\"}}"], ["updated_at", "2018-01-11 23:03:35.658611"], ["id", 1]]
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (2.7ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 87ms (Views: 0.2ms | ActiveRecord: 4.6ms)


  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"FboUI_f-X2vC_uBg1w9Srw\":{\"token\":\"$2a$10$6srdJcqS..XPK0Tu3f8Jbe0pkPzlySKxHGsxSmYfPxYu/s77wgVWm\",\"expiry\":1516921415,\"last_token\":\"$2a$10$PQ41hE3SkfVZJXDejKM2Rutqwpl0jVCdHDll9v8gL1mfwJwHvQxuq\",\"updated_at\":\"2018-01-11T18:03:35.670-05:00\"}}"], ["updated_at", "2018-01-11 23:03:35.671109"], ["id", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 11ms (Views: 2.6ms | ActiveRecord: 2.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:08:06 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"FboUI_f-X2vC_uBg1w9Srw\":{\"token\":\"$2a$10$i0lYkFSijPQZWfvutnr86.v908GoCKVIT1UV.upFr4WhwrcUpDG/e\",\"expiry\":1516921686,\"last_token\":\"$2a$10$6srdJcqS..XPK0Tu3f8Jbe0pkPzlySKxHGsxSmYfPxYu/s77wgVWm\",\"updated_at\":\"2018-01-11T18:08:06.968-05:00\"}}"], ["updated_at", "2018-01-11 23:08:06.969769"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 152ms (Views: 0.4ms | ActiveRecord: 2.2ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:08:33 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 18:08:33 -0500
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (77.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFavorite Load (1.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mUser Load (2.7ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (68.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"FboUI_f-X2vC_uBg1w9Srw\":{\"token\":\"$2a$10$iEB2W14z6K45k4bFoRi8o.2xddFv4ZVPaggHUfm3soUBPVHZgah5C\",\"expiry\":1516921714,\"last_token\":\"$2a$10$i0lYkFSijPQZWfvutnr86.v908GoCKVIT1UV.upFr4WhwrcUpDG/e\",\"updated_at\":\"2018-01-11T18:08:34.035-05:00\"}}"], ["updated_at", "2018-01-11 23:08:34.035904"], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 158ms (Views: 0.3ms | ActiveRecord: 6.7ms)


  [1m[36mUser Load (3.7ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"FboUI_f-X2vC_uBg1w9Srw\":{\"token\":\"$2a$10$iEB2W14z6K45k4bFoRi8o.2xddFv4ZVPaggHUfm3soUBPVHZgah5C\",\"expiry\":1516921714,\"last_token\":\"$2a$10$i0lYkFSijPQZWfvutnr86.v908GoCKVIT1UV.upFr4WhwrcUpDG/e\",\"updated_at\":\"2018-01-11T18:08:34.042-05:00\"}}"], ["updated_at", "2018-01-11 23:08:34.042647"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 160ms (Views: 3.0ms | ActiveRecord: 151.6ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:08:48 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"FboUI_f-X2vC_uBg1w9Srw\":{\"token\":\"$2a$10$M5v0keAH09fyB0N7Eyp7kOOmLvPFnZZGXIHNW0PvR87B1vKu8k5vq\",\"expiry\":1516921728,\"last_token\":\"$2a$10$iEB2W14z6K45k4bFoRi8o.2xddFv4ZVPaggHUfm3soUBPVHZgah5C\",\"updated_at\":\"2018-01-11T18:08:48.862-05:00\"}}"], ["updated_at", "2018-01-11 23:08:48.862824"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 153ms (Views: 0.2ms | ActiveRecord: 2.7ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 18:32:23 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-11 23:32:23.265903"], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 74ms (Views: 0.2ms | ActiveRecord: 2.8ms)


Started POST "/auth/sign_in" for 127.0.0.1 at 2018-01-11 18:32:34 -0500
Processing by DeviseTokenAuth::SessionsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "session"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]"}}
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (email = 'sean@example.com' AND provider='email') ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_rTDD6eF-YJYch_eVAn1gQ\":{\"token\":\"$2a$10$XpAEq2Briiq1uC/D9jEK6ep4kSx1KPbMTDCCf9E6V5DJZUwkR6Xx.\",\"expiry\":1516923154}}"], ["updated_at", "2018-01-11 23:32:34.774609"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 5], ["current_sign_in_at", "2018-01-11 23:32:34.778743"], ["last_sign_in_at", "2018-01-11 23:03:28.929095"], ["updated_at", "2018-01-11 23:32:34.779656"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_rTDD6eF-YJYch_eVAn1gQ\":{\"token\":\"$2a$10$nwSxXQBK7pGY1cSomHQ5FOWUFXLv3ZQ51wEVgsrH7lhmvvwY2eTRS\",\"expiry\":1516923154,\"last_token\":\"$2a$10$XpAEq2Briiq1uC/D9jEK6ep4kSx1KPbMTDCCf9E6V5DJZUwkR6Xx.\",\"updated_at\":\"2018-01-11T18:32:34.859-05:00\"}}"], ["updated_at", "2018-01-11 23:32:34.859811"], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 232ms (Views: 0.2ms | ActiveRecord: 7.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:32:34 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_rTDD6eF-YJYch_eVAn1gQ\":{\"token\":\"$2a$10$nwSxXQBK7pGY1cSomHQ5FOWUFXLv3ZQ51wEVgsrH7lhmvvwY2eTRS\",\"expiry\":1516923154,\"last_token\":\"$2a$10$XpAEq2Briiq1uC/D9jEK6ep4kSx1KPbMTDCCf9E6V5DJZUwkR6Xx.\",\"updated_at\":\"2018-01-11T18:32:34.976-05:00\"}}"], ["updated_at", "2018-01-11 23:32:34.976737"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 87ms (Views: 0.2ms | ActiveRecord: 4.1ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:32:41 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 18:32:41 -0500
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_rTDD6eF-YJYch_eVAn1gQ\":{\"token\":\"$2a$10$cymtxCrJ95B8JwwwF2487ePh1JYd8WL0zy1NMmGr2Yxa.X3omWebO\",\"expiry\":1516923161,\"last_token\":\"$2a$10$nwSxXQBK7pGY1cSomHQ5FOWUFXLv3ZQ51wEVgsrH7lhmvvwY2eTRS\",\"updated_at\":\"2018-01-11T18:32:41.758-05:00\"}}"], ["updated_at", "2018-01-11 23:32:41.759501"], ["id", 1]]
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (2.8ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 90ms (Views: 0.4ms | ActiveRecord: 5.4ms)


  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_rTDD6eF-YJYch_eVAn1gQ\":{\"token\":\"$2a$10$cymtxCrJ95B8JwwwF2487ePh1JYd8WL0zy1NMmGr2Yxa.X3omWebO\",\"expiry\":1516923161,\"last_token\":\"$2a$10$nwSxXQBK7pGY1cSomHQ5FOWUFXLv3ZQ51wEVgsrH7lhmvvwY2eTRS\",\"updated_at\":\"2018-01-11T18:32:41.772-05:00\"}}"], ["updated_at", "2018-01-11 23:32:41.772924"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 11ms (Views: 3.1ms | ActiveRecord: 2.7ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 18:32:43 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:32:43 -0500
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-11 23:32:43.584011"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 200 OK in 79ms (Views: 0.1ms | ActiveRecord: 1.7ms)


Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:35:33 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 18:35:33 -0500
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Processing by Api::FavoritesController#index as JSON
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.7ms)


  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:35:59 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started POST "/auth/sign_in" for 127.0.0.1 at 2018-01-11 18:36:11 -0500
Processing by DeviseTokenAuth::SessionsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "session"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]"}}
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (email = 'sean@example.com' AND provider='email') ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"2lPGtPqgNnNrxpVTw9b4YQ\":{\"token\":\"$2a$10$frDU0hxHGlnOyGmDBEs6UeGRrdBdhPN.5ehBNLNlCNo1OM17J7oES\",\"expiry\":1516923371}}"], ["updated_at", "2018-01-11 23:36:11.350705"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 6], ["current_sign_in_at", "2018-01-11 23:36:11.354908"], ["last_sign_in_at", "2018-01-11 23:32:34.778743"], ["updated_at", "2018-01-11 23:36:11.355658"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"2lPGtPqgNnNrxpVTw9b4YQ\":{\"token\":\"$2a$10$Yxv330fU5ocbetJkL/fZn.gWKOFPzhUQz4vCyb/Q2qxjwnnF9.JhS\",\"expiry\":1516923371,\"last_token\":\"$2a$10$frDU0hxHGlnOyGmDBEs6UeGRrdBdhPN.5ehBNLNlCNo1OM17J7oES\",\"updated_at\":\"2018-01-11T18:36:11.427-05:00\"}}"], ["updated_at", "2018-01-11 23:36:11.428268"], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 219ms (Views: 0.2ms | ActiveRecord: 7.6ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:36:11 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"2lPGtPqgNnNrxpVTw9b4YQ\":{\"token\":\"$2a$10$Yxv330fU5ocbetJkL/fZn.gWKOFPzhUQz4vCyb/Q2qxjwnnF9.JhS\",\"expiry\":1516923371,\"last_token\":\"$2a$10$frDU0hxHGlnOyGmDBEs6UeGRrdBdhPN.5ehBNLNlCNo1OM17J7oES\",\"updated_at\":\"2018-01-11T18:36:11.532-05:00\"}}"], ["updated_at", "2018-01-11 23:36:11.532472"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 85ms (Views: 0.2ms | ActiveRecord: 4.3ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:36:22 -0500
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 18:36:22 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFavorite Load (0.7ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mUser Load (3.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"2lPGtPqgNnNrxpVTw9b4YQ\":{\"token\":\"$2a$10$y6w6G8ITvfhqnNheJM2JA.NBWxFserznhDljhdSAJmc2F7QTykHp2\",\"expiry\":1516923382,\"last_token\":\"$2a$10$Yxv330fU5ocbetJkL/fZn.gWKOFPzhUQz4vCyb/Q2qxjwnnF9.JhS\",\"updated_at\":\"2018-01-11T18:36:22.608-05:00\"}}"], ["updated_at", "2018-01-11 23:36:22.608721"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 85ms (Views: 0.2ms | ActiveRecord: 6.4ms)


  [1m[36mUser Load (1.9ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"2lPGtPqgNnNrxpVTw9b4YQ\":{\"token\":\"$2a$10$y6w6G8ITvfhqnNheJM2JA.NBWxFserznhDljhdSAJmc2F7QTykHp2\",\"expiry\":1516923382,\"last_token\":\"$2a$10$Yxv330fU5ocbetJkL/fZn.gWKOFPzhUQz4vCyb/Q2qxjwnnF9.JhS\",\"updated_at\":\"2018-01-11T18:36:22.612-05:00\"}}"], ["updated_at", "2018-01-11 23:36:22.613260"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 89ms (Views: 3.6ms | ActiveRecord: 6.4ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:36:51 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"2lPGtPqgNnNrxpVTw9b4YQ\":{\"token\":\"$2a$10$6mxQFtPb8UO8xShgs1vrXOgqaqzc3ojaxwkAWPiOUyeVnDYi0wNBq\",\"expiry\":1516923411,\"last_token\":\"$2a$10$y6w6G8ITvfhqnNheJM2JA.NBWxFserznhDljhdSAJmc2F7QTykHp2\",\"updated_at\":\"2018-01-11T18:36:51.934-05:00\"}}"], ["updated_at", "2018-01-11 23:36:51.935280"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 161ms (Views: 0.3ms | ActiveRecord: 4.5ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:37:32 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 18:37:32 -0500
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFavorite Load (68.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"2lPGtPqgNnNrxpVTw9b4YQ\":{\"token\":\"$2a$10$0wpkC77t7hwXrHSclB83eeBNwsE54vpHIqMeRK.lgo.28ZK92G/8O\",\"expiry\":1516923452,\"last_token\":\"$2a$10$6mxQFtPb8UO8xShgs1vrXOgqaqzc3ojaxwkAWPiOUyeVnDYi0wNBq\",\"updated_at\":\"2018-01-11T18:37:32.512-05:00\"}}"], ["updated_at", "2018-01-11 23:37:32.512615"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 152ms (Views: 0.3ms | ActiveRecord: 6.0ms)


  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"2lPGtPqgNnNrxpVTw9b4YQ\":{\"token\":\"$2a$10$0wpkC77t7hwXrHSclB83eeBNwsE54vpHIqMeRK.lgo.28ZK92G/8O\",\"expiry\":1516923452,\"last_token\":\"$2a$10$6mxQFtPb8UO8xShgs1vrXOgqaqzc3ojaxwkAWPiOUyeVnDYi0wNBq\",\"updated_at\":\"2018-01-11T18:37:32.519-05:00\"}}"], ["updated_at", "2018-01-11 23:37:32.519665"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 81ms (Views: 3.8ms | ActiveRecord: 71.4ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 18:37:36 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"3ohjUW7DBj1HyEDbTW", "favorite"=>{"giphy_id"=>"3ohjUW7DBj1HyEDbTW"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (2.6ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "3ohjUW7DBj1HyEDbTW"], ["user_id", 1], ["created_at", "2018-01-11 23:37:36.582389"], ["updated_at", "2018-01-11 23:37:36.582389"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 74ms (ActiveRecord: 3.3ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_favorites_on_giphy_id"
DETAIL:  Key (giphy_id)=(3ohjUW7DBj1HyEDbTW) already exists.
: INSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"):
  
app/controllers/api/favorites_controller.rb:7:in `create'
Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 18:39:19 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-11 23:39:19.246749"], ["id", 1]]
Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:39:19 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  Parameters: {"token_validation"=>{}}
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 3.3ms)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:39:55 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 18:39:55 -0500
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Processing by Api::FavoritesController#index as JSON
Completed 401 Unauthorized in 4ms (Views: 0.2ms | ActiveRecord: 0.7ms)


  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started POST "/auth/sign_in" for 127.0.0.1 at 2018-01-11 18:40:02 -0500
Processing by DeviseTokenAuth::SessionsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "session"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]"}}
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (email = 'sean@example.com' AND provider='email') ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"kAp5ebQheo550FZhIxSP3A\":{\"token\":\"$2a$10$/wCn1J/lnq9dXeR/l37eZemQutjlkRwo4TT12XAJn5Ty7b0WMO69W\",\"expiry\":1516923603}}"], ["updated_at", "2018-01-11 23:40:03.075377"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 7], ["current_sign_in_at", "2018-01-11 23:40:03.079689"], ["last_sign_in_at", "2018-01-11 23:36:11.354908"], ["updated_at", "2018-01-11 23:40:03.080343"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"kAp5ebQheo550FZhIxSP3A\":{\"token\":\"$2a$10$07GrfQ2Z2nJazSgQukWAzec50EpwqbFtS.8BTh9i7pyH1NlPq8ZXq\",\"expiry\":1516923603,\"last_token\":\"$2a$10$/wCn1J/lnq9dXeR/l37eZemQutjlkRwo4TT12XAJn5Ty7b0WMO69W\",\"updated_at\":\"2018-01-11T18:40:03.148-05:00\"}}"], ["updated_at", "2018-01-11 23:40:03.148787"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 219ms (Views: 0.2ms | ActiveRecord: 7.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:40:03 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"kAp5ebQheo550FZhIxSP3A\":{\"token\":\"$2a$10$07GrfQ2Z2nJazSgQukWAzec50EpwqbFtS.8BTh9i7pyH1NlPq8ZXq\",\"expiry\":1516923603,\"last_token\":\"$2a$10$/wCn1J/lnq9dXeR/l37eZemQutjlkRwo4TT12XAJn5Ty7b0WMO69W\",\"updated_at\":\"2018-01-11T18:40:03.244-05:00\"}}"], ["updated_at", "2018-01-11 23:40:03.245241"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 3.6ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:40:15 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 18:40:15 -0500
Processing by Api::FavoritesController#index as JSON
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  Parameters: {"favorite"=>{}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (2.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFavorite Load (71.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35mSQL (2.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"kAp5ebQheo550FZhIxSP3A\":{\"token\":\"$2a$10$P701Fg7ZFriaZwAaNbPc4.d3yhAvkJkgn1puZoVug2dsV.vai3sU6\",\"expiry\":1516923615,\"last_token\":\"$2a$10$07GrfQ2Z2nJazSgQukWAzec50EpwqbFtS.8BTh9i7pyH1NlPq8ZXq\",\"updated_at\":\"2018-01-11T18:40:15.574-05:00\"}}"], ["updated_at", "2018-01-11 23:40:15.575543"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 85ms (Views: 0.3ms | ActiveRecord: 8.8ms)


  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"kAp5ebQheo550FZhIxSP3A\":{\"token\":\"$2a$10$P701Fg7ZFriaZwAaNbPc4.d3yhAvkJkgn1puZoVug2dsV.vai3sU6\",\"expiry\":1516923615,\"last_token\":\"$2a$10$07GrfQ2Z2nJazSgQukWAzec50EpwqbFtS.8BTh9i7pyH1NlPq8ZXq\",\"updated_at\":\"2018-01-11T18:40:15.583-05:00\"}}"], ["updated_at", "2018-01-11 23:40:15.583884"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 85ms (Views: 3.0ms | ActiveRecord: 74.5ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:44:32 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"kAp5ebQheo550FZhIxSP3A\":{\"token\":\"$2a$10$ceJs3EGdKLdvaADB2xPqo.nDAh.C5TfmUUdRQJrEwxlPgE7A4/NaW\",\"expiry\":1516923872,\"last_token\":\"$2a$10$P701Fg7ZFriaZwAaNbPc4.d3yhAvkJkgn1puZoVug2dsV.vai3sU6\",\"updated_at\":\"2018-01-11T18:44:32.450-05:00\"}}"], ["updated_at", "2018-01-11 23:44:32.450851"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 147ms (Views: 0.2ms | ActiveRecord: 3.7ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:44:42 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"kAp5ebQheo550FZhIxSP3A\":{\"token\":\"$2a$10$NLLoOyCYLOAT/7RFSwGaYez84KXp/QnU6Qqsg7sKNl4EdtbO.F8qW\",\"expiry\":1516923883,\"last_token\":\"$2a$10$ceJs3EGdKLdvaADB2xPqo.nDAh.C5TfmUUdRQJrEwxlPgE7A4/NaW\",\"updated_at\":\"2018-01-11T18:44:43.069-05:00\"}}"], ["updated_at", "2018-01-11 23:44:43.070121"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 152ms (Views: 0.2ms | ActiveRecord: 3.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:44:52 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 18:44:52 -0500
Processing by Api::FavoritesController#index as JSON
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (71.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"kAp5ebQheo550FZhIxSP3A\":{\"token\":\"$2a$10$Y/LYDL87LdhsL.l.OP7iP.pfbCxNRBXrb7X8ZOptuMDAAh7hViuVG\",\"expiry\":1516923892,\"last_token\":\"$2a$10$NLLoOyCYLOAT/7RFSwGaYez84KXp/QnU6Qqsg7sKNl4EdtbO.F8qW\",\"updated_at\":\"2018-01-11T18:44:52.328-05:00\"}}"], ["updated_at", "2018-01-11 23:44:52.329095"], ["id", 1]]
  [1m[36mFavorite Load (0.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Completed 200 OK in 157ms (Views: 0.2ms | ActiveRecord: 5.9ms)


  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"kAp5ebQheo550FZhIxSP3A\":{\"token\":\"$2a$10$Y/LYDL87LdhsL.l.OP7iP.pfbCxNRBXrb7X8ZOptuMDAAh7hViuVG\",\"expiry\":1516923892,\"last_token\":\"$2a$10$NLLoOyCYLOAT/7RFSwGaYez84KXp/QnU6Qqsg7sKNl4EdtbO.F8qW\",\"updated_at\":\"2018-01-11T18:44:52.336-05:00\"}}"], ["updated_at", "2018-01-11 23:44:52.336712"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 83ms (Views: 2.7ms | ActiveRecord: 73.6ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:44:55 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"kAp5ebQheo550FZhIxSP3A\":{\"token\":\"$2a$10$Y/LYDL87LdhsL.l.OP7iP.pfbCxNRBXrb7X8ZOptuMDAAh7hViuVG\",\"expiry\":1516923892,\"last_token\":\"$2a$10$NLLoOyCYLOAT/7RFSwGaYez84KXp/QnU6Qqsg7sKNl4EdtbO.F8qW\",\"updated_at\":\"2018-01-11T18:44:55.719-05:00\"}}"], ["updated_at", "2018-01-11 23:44:55.720209"], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 4.8ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 18:45:24 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-11 23:45:24.550401"], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 6ms (Views: 0.1ms | ActiveRecord: 2.7ms)


Started POST "/auth" for 127.0.0.1 at 2018-01-11 18:46:54 -0500
Processing by DeviseTokenAuth::RegistrationsController#create as JSON
  Parameters: {"email"=>"aross@maine.rr.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/search", "registration"=>{"email"=>"aross@maine.rr.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/search"}}
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."provider" = $1 AND "users"."email" = $2[0m  [["provider", "email"], ["email", "aross@maine.rr.com"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "email", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["uid", "aross@maine.rr.com"], ["encrypted_password", "$2a$10$XwmMRUq8pq3aCPq7CMl.UOYwsPzcDuMg/rLJK4uNObmmvkRL9uaTu"], ["email", "aross@maine.rr.com"], ["tokens", "{}"], ["created_at", "2018-01-11 23:46:54.615912"], ["updated_at", "2018-01-11 23:46:54.615912"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$OY8MqQ4GO0PmzHlEAuCc4OugDEZn/JWHnZzf/nyY8JTY9u9YFPeTi\",\"expiry\":1516924014}}"], ["updated_at", "2018-01-11 23:46:54.689885"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$1TPDre7tq48wkBjPutP.Yulipjmhbmvh17Ni97tVJaeWvzOS1AkMi\",\"expiry\":1516924014,\"last_token\":\"$2a$10$OY8MqQ4GO0PmzHlEAuCc4OugDEZn/JWHnZzf/nyY8JTY9u9YFPeTi\",\"updated_at\":\"2018-01-11T18:46:54.764-05:00\"}}"], ["updated_at", "2018-01-11 23:46:54.765137"], ["id", 2]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 236ms (Views: 0.4ms | ActiveRecord: 8.7ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:46:54 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$1TPDre7tq48wkBjPutP.Yulipjmhbmvh17Ni97tVJaeWvzOS1AkMi\",\"expiry\":1516924014,\"last_token\":\"$2a$10$OY8MqQ4GO0PmzHlEAuCc4OugDEZn/JWHnZzf/nyY8JTY9u9YFPeTi\",\"updated_at\":\"2018-01-11T18:46:54.861-05:00\"}}"], ["updated_at", "2018-01-11 23:46:54.861758"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 78ms (Views: 0.2ms | ActiveRecord: 3.4ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 18:47:51 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"3o6Zt4XnTSJcS659g4", "favorite"=>{"giphy_id"=>"3o6Zt4XnTSJcS659g4"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "3o6Zt4XnTSJcS659g4"], ["user_id", 2], ["created_at", "2018-01-11 23:47:51.179943"], ["updated_at", "2018-01-11 23:47:51.179943"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.3ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_favorites_on_giphy_id"
DETAIL:  Key (giphy_id)=(3o6Zt4XnTSJcS659g4) already exists.
: INSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"):
  
app/controllers/api/favorites_controller.rb:7:in `create'
Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:48:18 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 18:48:18 -0500
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFavorite Load (1.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (1.9ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$cXu2eFmbCQYjn3EIBPZ.RuLrlCDD6wZI/GVRu/SPHp/QghNLQF6dG\",\"expiry\":1516924098,\"last_token\":\"$2a$10$1TPDre7tq48wkBjPutP.Yulipjmhbmvh17Ni97tVJaeWvzOS1AkMi\",\"updated_at\":\"2018-01-11T18:48:18.807-05:00\"}}"], ["updated_at", "2018-01-11 23:48:18.808145"], ["id", 2]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 84ms (Views: 0.2ms | ActiveRecord: 5.4ms)


  [1m[36mUser Load (3.2ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$cXu2eFmbCQYjn3EIBPZ.RuLrlCDD6wZI/GVRu/SPHp/QghNLQF6dG\",\"expiry\":1516924098,\"last_token\":\"$2a$10$1TPDre7tq48wkBjPutP.Yulipjmhbmvh17Ni97tVJaeWvzOS1AkMi\",\"updated_at\":\"2018-01-11T18:48:18.813-05:00\"}}"], ["updated_at", "2018-01-11 23:48:18.814074"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 87ms (Views: 1.2ms | ActiveRecord: 8.4ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:48:30 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$Fi6c9xhADT3RKSc9og.qZ.PpgaPmlsurXfRZH3/Ne2etnQTNBnUny\",\"expiry\":1516924111,\"last_token\":\"$2a$10$cXu2eFmbCQYjn3EIBPZ.RuLrlCDD6wZI/GVRu/SPHp/QghNLQF6dG\",\"updated_at\":\"2018-01-11T18:48:31.134-05:00\"}}"], ["updated_at", "2018-01-11 23:48:31.134871"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 153ms (Views: 0.3ms | ActiveRecord: 3.7ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 18:48:34 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"3ohjV0PaEnmGIby1GM", "favorite"=>{"giphy_id"=>"3ohjV0PaEnmGIby1GM"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "3ohjV0PaEnmGIby1GM"], ["user_id", 2], ["created_at", "2018-01-11 23:48:34.797242"], ["updated_at", "2018-01-11 23:48:34.797242"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$Fi6c9xhADT3RKSc9og.qZ.PpgaPmlsurXfRZH3/Ne2etnQTNBnUny\",\"expiry\":1516924111,\"last_token\":\"$2a$10$cXu2eFmbCQYjn3EIBPZ.RuLrlCDD6wZI/GVRu/SPHp/QghNLQF6dG\",\"updated_at\":\"2018-01-11T18:48:34.801-05:00\"}}"], ["updated_at", "2018-01-11 23:48:34.802086"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 79ms (ActiveRecord: 2.9ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:48:38 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 18:48:38 -0500
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFavorite Load (1.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (1.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$Fi6c9xhADT3RKSc9og.qZ.PpgaPmlsurXfRZH3/Ne2etnQTNBnUny\",\"expiry\":1516924111,\"last_token\":\"$2a$10$cXu2eFmbCQYjn3EIBPZ.RuLrlCDD6wZI/GVRu/SPHp/QghNLQF6dG\",\"updated_at\":\"2018-01-11T18:48:38.171-05:00\"}}"], ["updated_at", "2018-01-11 23:48:38.171952"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (3.0ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 15ms (Views: 0.3ms | ActiveRecord: 6.5ms)


  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$Fi6c9xhADT3RKSc9og.qZ.PpgaPmlsurXfRZH3/Ne2etnQTNBnUny\",\"expiry\":1516924111,\"last_token\":\"$2a$10$cXu2eFmbCQYjn3EIBPZ.RuLrlCDD6wZI/GVRu/SPHp/QghNLQF6dG\",\"updated_at\":\"2018-01-11T18:48:38.177-05:00\"}}"], ["updated_at", "2018-01-11 23:48:38.178206"], ["id", 2]]
  [1m[35m (1.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 19ms (Views: 1.9ms | ActiveRecord: 6.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:48:39 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$Fi6c9xhADT3RKSc9og.qZ.PpgaPmlsurXfRZH3/Ne2etnQTNBnUny\",\"expiry\":1516924111,\"last_token\":\"$2a$10$cXu2eFmbCQYjn3EIBPZ.RuLrlCDD6wZI/GVRu/SPHp/QghNLQF6dG\",\"updated_at\":\"2018-01-11T18:48:39.998-05:00\"}}"], ["updated_at", "2018-01-11 23:48:39.999604"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 11ms (Views: 0.3ms | ActiveRecord: 4.0ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 18:48:44 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"3o6Zt4XnTSJcS659g4", "favorite"=>{"giphy_id"=>"3o6Zt4XnTSJcS659g4"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "3o6Zt4XnTSJcS659g4"], ["user_id", 2], ["created_at", "2018-01-11 23:48:44.784547"], ["updated_at", "2018-01-11 23:48:44.784547"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 4ms (ActiveRecord: 1.1ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_favorites_on_giphy_id"
DETAIL:  Key (giphy_id)=(3o6Zt4XnTSJcS659g4) already exists.
: INSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"):
  
app/controllers/api/favorites_controller.rb:7:in `create'
Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:48:47 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (3.4ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$97IP.qgg.uaGyNwYXLhZQOl5xFbAmIptJwC6n8zH7F/Dj06QQwEYe\",\"expiry\":1516924127,\"last_token\":\"$2a$10$Fi6c9xhADT3RKSc9og.qZ.PpgaPmlsurXfRZH3/Ne2etnQTNBnUny\",\"updated_at\":\"2018-01-11T18:48:47.112-05:00\"}}"], ["updated_at", "2018-01-11 23:48:47.113062"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 93ms (Views: 0.5ms | ActiveRecord: 7.5ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 18:48:51 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"ISOckXUybVfQ4", "favorite"=>{"giphy_id"=>"ISOckXUybVfQ4"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "ISOckXUybVfQ4"], ["user_id", 2], ["created_at", "2018-01-11 23:48:51.201850"], ["updated_at", "2018-01-11 23:48:51.201850"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$97IP.qgg.uaGyNwYXLhZQOl5xFbAmIptJwC6n8zH7F/Dj06QQwEYe\",\"expiry\":1516924127,\"last_token\":\"$2a$10$Fi6c9xhADT3RKSc9og.qZ.PpgaPmlsurXfRZH3/Ne2etnQTNBnUny\",\"updated_at\":\"2018-01-11T18:48:51.208-05:00\"}}"], ["updated_at", "2018-01-11 23:48:51.209168"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 82ms (ActiveRecord: 4.5ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:48:52 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 18:48:52 -0500
Processing by Api::FavoritesController#index as JSON
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  Parameters: {"favorite"=>{}}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[36mUser Load (2.8ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mFavorite Load (3.2ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35mSQL (2.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$97IP.qgg.uaGyNwYXLhZQOl5xFbAmIptJwC6n8zH7F/Dj06QQwEYe\",\"expiry\":1516924127,\"last_token\":\"$2a$10$Fi6c9xhADT3RKSc9og.qZ.PpgaPmlsurXfRZH3/Ne2etnQTNBnUny\",\"updated_at\":\"2018-01-11T18:48:52.937-05:00\"}}"], ["updated_at", "2018-01-11 23:48:52.938346"], ["id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (1.3ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 18ms (Views: 0.2ms | ActiveRecord: 9.1ms)


  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$97IP.qgg.uaGyNwYXLhZQOl5xFbAmIptJwC6n8zH7F/Dj06QQwEYe\",\"expiry\":1516924127,\"last_token\":\"$2a$10$Fi6c9xhADT3RKSc9og.qZ.PpgaPmlsurXfRZH3/Ne2etnQTNBnUny\",\"updated_at\":\"2018-01-11T18:48:52.946-05:00\"}}"], ["updated_at", "2018-01-11 23:48:52.946975"], ["id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 18ms (Views: 2.7ms | ActiveRecord: 6.5ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 18:50:02 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"26xBE2THb7CnJrZRu", "favorite"=>{"giphy_id"=>"26xBE2THb7CnJrZRu"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "26xBE2THb7CnJrZRu"], ["user_id", 2], ["created_at", "2018-01-11 23:50:02.438474"], ["updated_at", "2018-01-11 23:50:02.438474"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$7f4RsHZ0IGcCS/AkxevLpOifDejQOBQ./f1XqcMMKjujOqJ0NF8Qu\",\"expiry\":1516924202,\"last_token\":\"$2a$10$97IP.qgg.uaGyNwYXLhZQOl5xFbAmIptJwC6n8zH7F/Dj06QQwEYe\",\"updated_at\":\"2018-01-11T18:50:02.510-05:00\"}}"], ["updated_at", "2018-01-11 23:50:02.511401"], ["id", 2]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 79ms (ActiveRecord: 4.1ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 18:51:31 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"lNPqUki5f30OI", "favorite"=>{"giphy_id"=>"lNPqUki5f30OI"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "lNPqUki5f30OI"], ["user_id", 2], ["created_at", "2018-01-11 23:51:32.050798"], ["updated_at", "2018-01-11 23:51:32.050798"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$otakLCREWfzyHb3.QmJNiuuvWEHYiu4eQSkCoi9ySXHXcc0zLurwm\",\"expiry\":1516924292,\"last_token\":\"$2a$10$7f4RsHZ0IGcCS/AkxevLpOifDejQOBQ./f1XqcMMKjujOqJ0NF8Qu\",\"updated_at\":\"2018-01-11T18:51:32.124-05:00\"}}"], ["updated_at", "2018-01-11 23:51:32.125771"], ["id", 2]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 153ms (ActiveRecord: 5.1ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:51:38 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 18:51:38 -0500
Processing by Api::FavoritesController#index as JSON
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  Parameters: {"favorite"=>{}}
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[36mUser Load (1.3ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mFavorite Load (71.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$c6yYAVCx.X2w7HuzRSjT4Ot8RNh20JVBYtVarbqOpi59PwQ4F03C.\",\"expiry\":1516924298,\"last_token\":\"$2a$10$otakLCREWfzyHb3.QmJNiuuvWEHYiu4eQSkCoi9ySXHXcc0zLurwm\",\"updated_at\":\"2018-01-11T18:51:38.581-05:00\"}}"], ["updated_at", "2018-01-11 23:51:38.582537"], ["id", 2]]
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 154ms (Views: 0.3ms | ActiveRecord: 5.1ms)


  [1m[36mUser Load (0.8ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"_bo2MjHoihLe9ifwQH8BNg\":{\"token\":\"$2a$10$c6yYAVCx.X2w7HuzRSjT4Ot8RNh20JVBYtVarbqOpi59PwQ4F03C.\",\"expiry\":1516924298,\"last_token\":\"$2a$10$otakLCREWfzyHb3.QmJNiuuvWEHYiu4eQSkCoi9ySXHXcc0zLurwm\",\"updated_at\":\"2018-01-11T18:51:38.587-05:00\"}}"], ["updated_at", "2018-01-11 23:51:38.588450"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 84ms (Views: 3.5ms | ActiveRecord: 74.5ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 18:52:24 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:52:24 -0500
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-11 23:52:24.974698"], ["id", 2]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 95ms (Views: 0.2ms | ActiveRecord: 2.2ms)


  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 2.5ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:52:29 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 18:52:29 -0500
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)


  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 1.6ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 18:52:33 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:52:33 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "aross@maine.rr.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.7ms)


Started POST "/auth/sign_in" for 127.0.0.1 at 2018-01-11 18:52:43 -0500
Processing by DeviseTokenAuth::SessionsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "session"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]"}}
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (email = 'sean@example.com' AND provider='email') ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"uU0ivf5kVQ8iXXJ3mvUlrg\":{\"token\":\"$2a$10$NJh6aW30NjXPJFThzZ2Ojepa5Za6Q3MVjXCTm3HSBefeKRDzrTRjm\",\"expiry\":1516924363}}"], ["updated_at", "2018-01-11 23:52:43.353933"], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 8], ["current_sign_in_at", "2018-01-11 23:52:43.358376"], ["last_sign_in_at", "2018-01-11 23:40:03.079689"], ["updated_at", "2018-01-11 23:52:43.359213"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"uU0ivf5kVQ8iXXJ3mvUlrg\":{\"token\":\"$2a$10$XCe.NQJNaV1TtCmeZlIpzupcXJ/tjsJ.494BpuPsYa39aXexq4N0C\",\"expiry\":1516924363,\"last_token\":\"$2a$10$NJh6aW30NjXPJFThzZ2Ojepa5Za6Q3MVjXCTm3HSBefeKRDzrTRjm\",\"updated_at\":\"2018-01-11T18:52:43.435-05:00\"}}"], ["updated_at", "2018-01-11 23:52:43.436200"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 224ms (Views: 0.2ms | ActiveRecord: 7.7ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:52:43 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (2.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"uU0ivf5kVQ8iXXJ3mvUlrg\":{\"token\":\"$2a$10$XCe.NQJNaV1TtCmeZlIpzupcXJ/tjsJ.494BpuPsYa39aXexq4N0C\",\"expiry\":1516924363,\"last_token\":\"$2a$10$NJh6aW30NjXPJFThzZ2Ojepa5Za6Q3MVjXCTm3HSBefeKRDzrTRjm\",\"updated_at\":\"2018-01-11T18:52:43.535-05:00\"}}"], ["updated_at", "2018-01-11 23:52:43.535739"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 82ms (Views: 0.2ms | ActiveRecord: 3.7ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 18:52:51 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"26xBE2THb7CnJrZRu", "favorite"=>{"giphy_id"=>"26xBE2THb7CnJrZRu"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "26xBE2THb7CnJrZRu"], ["user_id", 1], ["created_at", "2018-01-11 23:52:51.611104"], ["updated_at", "2018-01-11 23:52:51.611104"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 500 Internal Server Error in 5ms (ActiveRecord: 1.3ms)


  
ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_favorites_on_giphy_id"
DETAIL:  Key (giphy_id)=(26xBE2THb7CnJrZRu) already exists.
: INSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"):
  
app/controllers/api/favorites_controller.rb:7:in `create'
Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 18:52:54 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-11 23:52:54.444144"], ["id", 1]]
Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 18:52:54 -0500
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 3.5ms)


  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)


  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (147.8ms)[0m  [1m[35mDROP DATABASE IF EXISTS "gifhub_dev"[0m
  [1m[35m (371.7ms)[0m  [1m[35mCREATE DATABASE "gifhub_dev" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "favorites" CASCADE[0m
  [1m[35m (9.0ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" bigserial primary key, "giphy_id" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_favorites_on_giphy_id" ON "favorites"  ("giphy_id")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE  INDEX  "index_favorites_on_user_id" ON "favorites"  ("user_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (6.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "provider" character varying DEFAULT 'email' NOT NULL, "uid" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" character varying, "last_sign_in_ip" character varying, "confirmation_token" character varying, "confirmed_at" timestamp, "confirmation_sent_at" timestamp, "unconfirmed_email" character varying, "name" character varying, "nickname" character varying, "image" character varying, "email" character varying, "tokens" json, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_confirmation_token" ON "users"  ("confirmation_token")[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_uid_and_provider" ON "users"  ("uid", "provider")[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "favorites" ADD CONSTRAINT "fk_rails_d15744e438"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20180111150417)[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20180111015550),
(20171222171900);

[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-01-12 01:34:39.129429"], ["updated_at", "2018-01-12 01:34:39.129429"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sross@gmail"], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."provider" = $1 AND "users"."email" = $2[0m  [["provider", "email"], ["email", "sross@gmail"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "user@example.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."provider" = $1 AND "users"."email" = $2[0m  [["provider", "email"], ["email", "user@example.com"]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "name", "nickname", "email", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["uid", "user@example.com"], ["encrypted_password", "$2a$10$eBpeBUvsGiDoq9TcNV21gu/nnzFxXLUBSiUfzvrFMoCmkol3RmmUa"], ["name", "user one"], ["nickname", "userone"], ["email", "user@example.com"], ["tokens", "{}"], ["created_at", "2018-01-12 01:38:06.646630"], ["updated_at", "2018-01-12 01:38:06.646630"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "abc"], ["user_id", 1], ["created_at", "2018-01-12 01:38:19.211210"], ["updated_at", "2018-01-12 01:38:19.211210"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (2.8ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "abc"], ["user_id", 1], ["created_at", "2018-01-12 01:38:29.544881"], ["updated_at", "2018-01-12 01:38:29.544881"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2615801513608816890)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2615801513608816890)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFavorite Load (0.6ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "abc"], ["user_id", 1], ["created_at", "2018-01-12 01:43:43.122924"], ["updated_at", "2018-01-12 01:43:43.122924"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2615801513608816890)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddIndexToFavorites (20180111150417)
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.2ms)[0m  [1m[35mDROP INDEX  "index_favorites_on_giphy_id"[0m
  [1m[35mSQL (0.5ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = $1[0m  [["version", "20180111150417"]]
  [1m[35m (1.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2615801513608816890)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mFavorite Load (1.1ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (1.3ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "abc"], ["user_id", 1], ["created_at", "2018-01-12 01:47:28.476973"], ["updated_at", "2018-01-12 01:47:28.476973"]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT  "favorites".* FROM "favorites" LIMIT $1[0m  [["LIMIT", 11]]
  [1m[36mFavorite Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."giphy_id" = $2 LIMIT $3[0m  [["user_id", 1], ["giphy_id", "abc"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (140.1ms)[0m  [1m[35mDROP DATABASE IF EXISTS "gifhub_dev"[0m
  [1m[35m (275.3ms)[0m  [1m[35mCREATE DATABASE "gifhub_dev" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.5ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "favorites" CASCADE[0m
  [1m[35m (7.4ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" bigserial primary key, "giphy_id" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.6ms)[0m  [1m[35mCREATE  INDEX  "index_favorites_on_user_id" ON "favorites"  ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "provider" character varying DEFAULT 'email' NOT NULL, "uid" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" character varying, "last_sign_in_ip" character varying, "confirmation_token" character varying, "confirmed_at" timestamp, "confirmation_sent_at" timestamp, "unconfirmed_email" character varying, "name" character varying, "nickname" character varying, "image" character varying, "email" character varying, "tokens" json, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_confirmation_token" ON "users"  ("confirmation_token")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35m (1.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_uid_and_provider" ON "users"  ("uid", "provider")[0m
  [1m[35m (4.0ms)[0m  [1m[35mALTER TABLE "favorites" ADD CONSTRAINT "fk_rails_d15744e438"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20180111015550)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20171222171900);

[0m
  [1m[35m (3.2ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-01-12 01:56:25.893609"], ["updated_at", "2018-01-12 01:56:25.893609"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT pg_try_advisory_lock(2615801513608816890)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT pg_advisory_unlock(2615801513608816890)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" LIMIT $1[0m  [["LIMIT", 11]]
Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 20:57:59 -0500
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Completed 401 Unauthorized in 33ms (Views: 0.8ms | ActiveRecord: 0.0ms)


Started POST "/auth" for 127.0.0.1 at 2018-01-11 20:58:43 -0500
Processing by DeviseTokenAuth::RegistrationsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/", "registration"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/"}}
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."provider" = $1 AND "users"."email" = $2[0m  [["provider", "email"], ["email", "sean@example.com"]]
  [1m[35mSQL (1.2ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "email", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["uid", "sean@example.com"], ["encrypted_password", "$2a$10$C3eGPsev5KuT4/YKo7xE2uOjffDJxYPFGqLut6AehatK//EE.39jW"], ["email", "sean@example.com"], ["tokens", "{}"], ["created_at", "2018-01-12 01:58:43.822284"], ["updated_at", "2018-01-12 01:58:43.822284"]]
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$0Pp13T2X3eHY867m618w.OsMaL20EpK8y7rhITEam4NQE/0mIzasq\",\"expiry\":1516931923}}"], ["updated_at", "2018-01-12 01:58:43.890129"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$pBApcDovZd4oz7VvKDamWeLGpVfgmwsn22f8LXyD2GwsaaBpLAfKq\",\"expiry\":1516931923,\"last_token\":\"$2a$10$0Pp13T2X3eHY867m618w.OsMaL20EpK8y7rhITEam4NQE/0mIzasq\",\"updated_at\":\"2018-01-11T20:58:43.961-05:00\"}}"], ["updated_at", "2018-01-12 01:58:43.962464"], ["id", 1]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 258ms (Views: 0.4ms | ActiveRecord: 15.6ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 20:58:43 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$pBApcDovZd4oz7VvKDamWeLGpVfgmwsn22f8LXyD2GwsaaBpLAfKq\",\"expiry\":1516931923,\"last_token\":\"$2a$10$0Pp13T2X3eHY867m618w.OsMaL20EpK8y7rhITEam4NQE/0mIzasq\",\"updated_at\":\"2018-01-11T20:58:44.077-05:00\"}}"], ["updated_at", "2018-01-12 01:58:44.078402"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 87ms (Views: 0.3ms | ActiveRecord: 4.6ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 20:58:54 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"3ohhwuC9vZOQok6OFW", "favorite"=>{"giphy_id"=>"3ohhwuC9vZOQok6OFW"}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."giphy_id" = $2 LIMIT $3[0m  [["user_id", 1], ["giphy_id", "3ohhwuC9vZOQok6OFW"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "3ohhwuC9vZOQok6OFW"], ["user_id", 1], ["created_at", "2018-01-12 01:58:54.379165"], ["updated_at", "2018-01-12 01:58:54.379165"]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$xhTsz4MosHBI26SV1DTrxOjwTC/PHaaMBRTHMW3/R7im6qri2gNdi\",\"expiry\":1516931934,\"last_token\":\"$2a$10$pBApcDovZd4oz7VvKDamWeLGpVfgmwsn22f8LXyD2GwsaaBpLAfKq\",\"updated_at\":\"2018-01-11T20:58:54.453-05:00\"}}"], ["updated_at", "2018-01-12 01:58:54.453908"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 204 No Content in 110ms (ActiveRecord: 11.2ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 20:59:11 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 20:59:11 -0500
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"expiry\":1516931951,\"last_token\":\"$2a$10$xhTsz4MosHBI26SV1DTrxOjwTC/PHaaMBRTHMW3/R7im6qri2gNdi\",\"updated_at\":\"2018-01-11T20:59:11.441-05:00\"}}"], ["updated_at", "2018-01-12 01:59:11.442314"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 157ms (Views: 0.2ms | ActiveRecord: 4.8ms)


  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"expiry\":1516931951,\"last_token\":\"$2a$10$xhTsz4MosHBI26SV1DTrxOjwTC/PHaaMBRTHMW3/R7im6qri2gNdi\",\"updated_at\":\"2018-01-11T20:59:11.599-05:00\"}}"], ["updated_at", "2018-01-12 01:59:11.599744"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 233ms (Views: 2.5ms | ActiveRecord: 14.7ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:00:22 -0500
Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:00:32 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.134-05:00\"}}"], ["updated_at", "2018-01-12 02:00:33.135453"], ["id", 1]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 166ms (Views: 0.3ms | ActiveRecord: 9.0ms)


Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.329-05:00\"}}"], ["updated_at", "2018-01-12 02:00:33.329593"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 161ms (Views: 0.2ms | ActiveRecord: 3.6ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:00:33 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.481-05:00\"}}"], ["updated_at", "2018-01-12 02:00:33.482005"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 153ms (Views: 0.2ms | ActiveRecord: 3.6ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 21:00:41 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"ISOckXUybVfQ4", "favorite"=>{"giphy_id"=>"ISOckXUybVfQ4"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 69ms (Views: 0.2ms | ActiveRecord: 5.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:01:22 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 75ms (Views: 0.2ms | ActiveRecord: 0.9ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 21:01:32 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 404 Not Found in 77ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started POST "/auth/sign_in" for 127.0.0.1 at 2018-01-11 21:01:38 -0500
Processing by DeviseTokenAuth::SessionsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "session"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]"}}
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (email = 'sean@example.com' AND provider='email') ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.481-05:00\"},\"ec6wTRHuglenQiR7Rd59Kg\":{\"token\":\"$2a$10$AmIYXo7XslEgaPp.WJhYo.ocKgWx7yQgFqGhVblV14G2sgn1MxAqy\",\"expiry\":1516932099}}"], ["updated_at", "2018-01-12 02:01:39.014652"], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-01-12 02:01:39.019195"], ["last_sign_in_at", "2018-01-12 02:01:39.019195"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-01-12 02:01:39.019859"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.481-05:00\"},\"ec6wTRHuglenQiR7Rd59Kg\":{\"token\":\"$2a$10$uBEA1oKBJWcvjx.AzbsIr.erbBeyTDfYXsO29iHMAjU4U4bSby/7K\",\"expiry\":1516932099,\"last_token\":\"$2a$10$AmIYXo7XslEgaPp.WJhYo.ocKgWx7yQgFqGhVblV14G2sgn1MxAqy\",\"updated_at\":\"2018-01-11T21:01:39.088-05:00\"}}"], ["updated_at", "2018-01-12 02:01:39.088567"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 217ms (Views: 0.2ms | ActiveRecord: 8.0ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:01:39 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.481-05:00\"},\"ec6wTRHuglenQiR7Rd59Kg\":{\"token\":\"$2a$10$uBEA1oKBJWcvjx.AzbsIr.erbBeyTDfYXsO29iHMAjU4U4bSby/7K\",\"expiry\":1516932099,\"last_token\":\"$2a$10$AmIYXo7XslEgaPp.WJhYo.ocKgWx7yQgFqGhVblV14G2sgn1MxAqy\",\"updated_at\":\"2018-01-11T21:01:39.189-05:00\"}}"], ["updated_at", "2018-01-12 02:01:39.189582"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 3.0ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:01:40 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:01:40 -0500
Processing by Api::FavoritesController#index as JSON
  [1m[35m (1.0ms)[0m  [1m[35mBEGIN[0m
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.3ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.481-05:00\"},\"ec6wTRHuglenQiR7Rd59Kg\":{\"token\":\"$2a$10$uBEA1oKBJWcvjx.AzbsIr.erbBeyTDfYXsO29iHMAjU4U4bSby/7K\",\"expiry\":1516932099,\"last_token\":\"$2a$10$AmIYXo7XslEgaPp.WJhYo.ocKgWx7yQgFqGhVblV14G2sgn1MxAqy\",\"updated_at\":\"2018-01-11T21:01:40.892-05:00\"}}"], ["updated_at", "2018-01-12 02:01:40.893654"], ["id", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (4.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 8.3ms)


  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.481-05:00\"},\"ec6wTRHuglenQiR7Rd59Kg\":{\"token\":\"$2a$10$uBEA1oKBJWcvjx.AzbsIr.erbBeyTDfYXsO29iHMAjU4U4bSby/7K\",\"expiry\":1516932099,\"last_token\":\"$2a$10$AmIYXo7XslEgaPp.WJhYo.ocKgWx7yQgFqGhVblV14G2sgn1MxAqy\",\"updated_at\":\"2018-01-11T21:01:40.922-05:00\"}}"], ["updated_at", "2018-01-12 02:01:40.923173"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 35ms (Views: 12.3ms | ActiveRecord: 8.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:01:42 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.481-05:00\"},\"ec6wTRHuglenQiR7Rd59Kg\":{\"token\":\"$2a$10$uBEA1oKBJWcvjx.AzbsIr.erbBeyTDfYXsO29iHMAjU4U4bSby/7K\",\"expiry\":1516932099,\"last_token\":\"$2a$10$AmIYXo7XslEgaPp.WJhYo.ocKgWx7yQgFqGhVblV14G2sgn1MxAqy\",\"updated_at\":\"2018-01-11T21:01:42.655-05:00\"}}"], ["updated_at", "2018-01-12 02:01:42.656309"], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 5.9ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 21:01:50 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"ISOckXUybVfQ4", "favorite"=>{"giphy_id"=>"ISOckXUybVfQ4"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."giphy_id" = $2 LIMIT $3[0m  [["user_id", 1], ["giphy_id", "ISOckXUybVfQ4"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "ISOckXUybVfQ4"], ["user_id", 1], ["created_at", "2018-01-12 02:01:50.793828"], ["updated_at", "2018-01-12 02:01:50.793828"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.481-05:00\"},\"ec6wTRHuglenQiR7Rd59Kg\":{\"token\":\"$2a$10$PO0TjbNEamyELcvMMtUk8OBxIn5vJodo8QUErdNr/Wp7UrHsFmOtm\",\"expiry\":1516932110,\"last_token\":\"$2a$10$uBEA1oKBJWcvjx.AzbsIr.erbBeyTDfYXsO29iHMAjU4U4bSby/7K\",\"updated_at\":\"2018-01-11T21:01:50.869-05:00\"}}"], ["updated_at", "2018-01-12 02:01:50.870112"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 85ms (ActiveRecord: 6.4ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 21:02:04 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"ISOckXUybVfQ4", "favorite"=>{"giphy_id"=>"ISOckXUybVfQ4"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."giphy_id" = $2 LIMIT $3[0m  [["user_id", 1], ["giphy_id", "ISOckXUybVfQ4"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.481-05:00\"},\"ec6wTRHuglenQiR7Rd59Kg\":{\"token\":\"$2a$10$9gOZgk.x2zMMk.uhKul34.I814l.qAhTcPdlWOXtsi./VZpG4ISaW\",\"expiry\":1516932124,\"last_token\":\"$2a$10$PO0TjbNEamyELcvMMtUk8OBxIn5vJodo8QUErdNr/Wp7UrHsFmOtm\",\"updated_at\":\"2018-01-11T21:02:04.795-05:00\"}}"], ["updated_at", "2018-01-12 02:02:04.796202"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 422 Unprocessable Entity in 149ms (ActiveRecord: 4.4ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:02:17 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:02:17 -0500
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (76.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (75.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.481-05:00\"},\"ec6wTRHuglenQiR7Rd59Kg\":{\"token\":\"$2a$10$UUPZso7MsPoBo2IXlSb3G.a99d8RR58qXBaj.qdh.ZvjHizN/FBt.\",\"expiry\":1516932137,\"last_token\":\"$2a$10$9gOZgk.x2zMMk.uhKul34.I814l.qAhTcPdlWOXtsi./VZpG4ISaW\",\"updated_at\":\"2018-01-11T21:02:17.525-05:00\"}}"], ["updated_at", "2018-01-12 02:02:17.526390"], ["id", 1]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (3.4ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 163ms (Views: 0.3ms | ActiveRecord: 5.1ms)


  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.481-05:00\"},\"ec6wTRHuglenQiR7Rd59Kg\":{\"token\":\"$2a$10$UUPZso7MsPoBo2IXlSb3G.a99d8RR58qXBaj.qdh.ZvjHizN/FBt.\",\"expiry\":1516932137,\"last_token\":\"$2a$10$9gOZgk.x2zMMk.uhKul34.I814l.qAhTcPdlWOXtsi./VZpG4ISaW\",\"updated_at\":\"2018-01-11T21:02:17.532-05:00\"}}"], ["updated_at", "2018-01-12 02:02:17.533537"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 165ms (Views: 2.8ms | ActiveRecord: 156.2ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:02:18 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.481-05:00\"},\"ec6wTRHuglenQiR7Rd59Kg\":{\"token\":\"$2a$10$UUPZso7MsPoBo2IXlSb3G.a99d8RR58qXBaj.qdh.ZvjHizN/FBt.\",\"expiry\":1516932137,\"last_token\":\"$2a$10$9gOZgk.x2zMMk.uhKul34.I814l.qAhTcPdlWOXtsi./VZpG4ISaW\",\"updated_at\":\"2018-01-11T21:02:18.887-05:00\"}}"], ["updated_at", "2018-01-12 02:02:18.888518"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 84ms (Views: 0.3ms | ActiveRecord: 4.1ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 21:02:55 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"l3vRfVRbWGnMFWVaM", "favorite"=>{"giphy_id"=>"l3vRfVRbWGnMFWVaM"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."giphy_id" = $2 LIMIT $3[0m  [["user_id", 1], ["giphy_id", "l3vRfVRbWGnMFWVaM"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "l3vRfVRbWGnMFWVaM"], ["user_id", 1], ["created_at", "2018-01-12 02:02:55.839840"], ["updated_at", "2018-01-12 02:02:55.839840"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.481-05:00\"},\"ec6wTRHuglenQiR7Rd59Kg\":{\"token\":\"$2a$10$xn26XIiiwkmRbU.V3ue3DOqJ1qPU7llCRrlSffYV5ESsLlSdYdFE2\",\"expiry\":1516932175,\"last_token\":\"$2a$10$UUPZso7MsPoBo2IXlSb3G.a99d8RR58qXBaj.qdh.ZvjHizN/FBt.\",\"updated_at\":\"2018-01-11T21:02:55.912-05:00\"}}"], ["updated_at", "2018-01-12 02:02:55.913603"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 82ms (ActiveRecord: 7.3ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 21:03:00 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"l3vRfVRbWGnMFWVaM", "favorite"=>{"giphy_id"=>"l3vRfVRbWGnMFWVaM"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."giphy_id" = $2 LIMIT $3[0m  [["user_id", 1], ["giphy_id", "l3vRfVRbWGnMFWVaM"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.481-05:00\"},\"ec6wTRHuglenQiR7Rd59Kg\":{\"token\":\"$2a$10$xn26XIiiwkmRbU.V3ue3DOqJ1qPU7llCRrlSffYV5ESsLlSdYdFE2\",\"expiry\":1516932175,\"last_token\":\"$2a$10$UUPZso7MsPoBo2IXlSb3G.a99d8RR58qXBaj.qdh.ZvjHizN/FBt.\",\"updated_at\":\"2018-01-11T21:03:00.765-05:00\"}}"], ["updated_at", "2018-01-12 02:03:00.765560"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 422 Unprocessable Entity in 77ms (ActiveRecord: 3.9ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 21:03:05 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WyyxxwGmQqZzcgvVdF8eSg\":{\"token\":\"$2a$10$vqFfj0m/xpnpC4Q06wRUmuIyzO59hGPK3r/7Yc5ja0f35zSWV8QFq\",\"expiry\":1516932033,\"last_token\":\"$2a$10$0yNmiivfs2q2/FykraoODOjgx.tvZEu3wrMNbfHEKuTcEN4u8h1Aa\",\"updated_at\":\"2018-01-11T21:00:33.481-05:00\"}}"], ["updated_at", "2018-01-12 02:03:05.864611"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:03:05 -0500
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 3.5ms)


Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/auth" for 127.0.0.1 at 2018-01-11 21:03:31 -0500
Processing by DeviseTokenAuth::RegistrationsController#create as JSON
  Parameters: {"email"=>"john@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/", "registration"=>{"email"=>"john@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/"}}
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."provider" = $1 AND "users"."email" = $2[0m  [["provider", "email"], ["email", "john@example.com"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "email", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["uid", "john@example.com"], ["encrypted_password", "$2a$10$bS32wFVqqMugi4ONd4pxIu9EvxTrjIY24V5Ql.4LRRI5htRLum66u"], ["email", "john@example.com"], ["tokens", "{}"], ["created_at", "2018-01-12 02:03:31.844824"], ["updated_at", "2018-01-12 02:03:31.844824"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"DjizZpWvh96h5Wa1adIXWA\":{\"token\":\"$2a$10$EAQf7h/8.ZhF7ch/jL8B6.GxJhtVEQtwdQNFzKVYnyqFEE4zFoELm\",\"expiry\":1516932211}}"], ["updated_at", "2018-01-12 02:03:31.920578"], ["id", 2]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"DjizZpWvh96h5Wa1adIXWA\":{\"token\":\"$2a$10$AMw1WDHFdmk/2JCx0FejROMqYyOrMw3MavHH/QSVGwm6IjWSRsZUy\",\"expiry\":1516932211,\"last_token\":\"$2a$10$EAQf7h/8.ZhF7ch/jL8B6.GxJhtVEQtwdQNFzKVYnyqFEE4zFoELm\",\"updated_at\":\"2018-01-11T21:03:31.998-05:00\"}}"], ["updated_at", "2018-01-12 02:03:31.999487"], ["id", 2]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 231ms (Views: 0.4ms | ActiveRecord: 10.1ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:03:32 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"DjizZpWvh96h5Wa1adIXWA\":{\"token\":\"$2a$10$AMw1WDHFdmk/2JCx0FejROMqYyOrMw3MavHH/QSVGwm6IjWSRsZUy\",\"expiry\":1516932211,\"last_token\":\"$2a$10$EAQf7h/8.ZhF7ch/jL8B6.GxJhtVEQtwdQNFzKVYnyqFEE4zFoELm\",\"updated_at\":\"2018-01-11T21:03:32.102-05:00\"}}"], ["updated_at", "2018-01-12 02:03:32.102790"], ["id", 2]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 83ms (Views: 0.3ms | ActiveRecord: 4.5ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:03:38 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:03:38 -0500
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (2.4ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mFavorite Load (74.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35mSQL (1.2ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"DjizZpWvh96h5Wa1adIXWA\":{\"token\":\"$2a$10$9FXFxzhoi836Zn5Hq5Tv4OG7uktQSKvvZYDLJ2CrNPISMN4KtoTI6\",\"expiry\":1516932218,\"last_token\":\"$2a$10$AMw1WDHFdmk/2JCx0FejROMqYyOrMw3MavHH/QSVGwm6IjWSRsZUy\",\"updated_at\":\"2018-01-11T21:03:38.595-05:00\"}}"], ["updated_at", "2018-01-12 02:03:38.595812"], ["id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (1.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 88ms (Views: 0.3ms | ActiveRecord: 6.9ms)


  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"DjizZpWvh96h5Wa1adIXWA\":{\"token\":\"$2a$10$9FXFxzhoi836Zn5Hq5Tv4OG7uktQSKvvZYDLJ2CrNPISMN4KtoTI6\",\"expiry\":1516932218,\"last_token\":\"$2a$10$AMw1WDHFdmk/2JCx0FejROMqYyOrMw3MavHH/QSVGwm6IjWSRsZUy\",\"updated_at\":\"2018-01-11T21:03:38.602-05:00\"}}"], ["updated_at", "2018-01-12 02:03:38.602961"], ["id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 87ms (Views: 1.5ms | ActiveRecord: 78.2ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:03:42 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"DjizZpWvh96h5Wa1adIXWA\":{\"token\":\"$2a$10$9FXFxzhoi836Zn5Hq5Tv4OG7uktQSKvvZYDLJ2CrNPISMN4KtoTI6\",\"expiry\":1516932218,\"last_token\":\"$2a$10$AMw1WDHFdmk/2JCx0FejROMqYyOrMw3MavHH/QSVGwm6IjWSRsZUy\",\"updated_at\":\"2018-01-11T21:03:42.582-05:00\"}}"], ["updated_at", "2018-01-12 02:03:42.582733"], ["id", 2]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 86ms (Views: 0.3ms | ActiveRecord: 4.3ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 21:03:49 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"3ohhwuC9vZOQok6OFW", "favorite"=>{"giphy_id"=>"3ohhwuC9vZOQok6OFW"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."giphy_id" = $2 LIMIT $3[0m  [["user_id", 2], ["giphy_id", "3ohhwuC9vZOQok6OFW"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "3ohhwuC9vZOQok6OFW"], ["user_id", 2], ["created_at", "2018-01-12 02:03:49.169065"], ["updated_at", "2018-01-12 02:03:49.169065"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"DjizZpWvh96h5Wa1adIXWA\":{\"token\":\"$2a$10$rKLSW3yKMTkLcjL3quMN.eqk4V7q9rZF829qc4F/uJYKFE.hKrUKW\",\"expiry\":1516932229,\"last_token\":\"$2a$10$9FXFxzhoi836Zn5Hq5Tv4OG7uktQSKvvZYDLJ2CrNPISMN4KtoTI6\",\"updated_at\":\"2018-01-11T21:03:49.245-05:00\"}}"], ["updated_at", "2018-01-12 02:03:49.245800"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 89ms (ActiveRecord: 6.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:03:52 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:03:52 -0500
Processing by Api::FavoritesController#index as JSON
  [1m[36mUser Load (1.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  Parameters: {"favorite"=>{}}
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"DjizZpWvh96h5Wa1adIXWA\":{\"token\":\"$2a$10$rKLSW3yKMTkLcjL3quMN.eqk4V7q9rZF829qc4F/uJYKFE.hKrUKW\",\"expiry\":1516932229,\"last_token\":\"$2a$10$9FXFxzhoi836Zn5Hq5Tv4OG7uktQSKvvZYDLJ2CrNPISMN4KtoTI6\",\"updated_at\":\"2018-01-11T21:03:52.500-05:00\"}}"], ["updated_at", "2018-01-12 02:03:52.501265"], ["id", 2]]
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[35m (1.8ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 89ms (Views: 0.2ms | ActiveRecord: 5.7ms)


  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"DjizZpWvh96h5Wa1adIXWA\":{\"token\":\"$2a$10$rKLSW3yKMTkLcjL3quMN.eqk4V7q9rZF829qc4F/uJYKFE.hKrUKW\",\"expiry\":1516932229,\"last_token\":\"$2a$10$9FXFxzhoi836Zn5Hq5Tv4OG7uktQSKvvZYDLJ2CrNPISMN4KtoTI6\",\"updated_at\":\"2018-01-11T21:03:52.510-05:00\"}}"], ["updated_at", "2018-01-12 02:03:52.510733"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 10ms (Views: 1.7ms | ActiveRecord: 3.2ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:03:56 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (2.1ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"DjizZpWvh96h5Wa1adIXWA\":{\"token\":\"$2a$10$rKLSW3yKMTkLcjL3quMN.eqk4V7q9rZF829qc4F/uJYKFE.hKrUKW\",\"expiry\":1516932229,\"last_token\":\"$2a$10$9FXFxzhoi836Zn5Hq5Tv4OG7uktQSKvvZYDLJ2CrNPISMN4KtoTI6\",\"updated_at\":\"2018-01-11T21:03:56.295-05:00\"}}"], ["updated_at", "2018-01-12 02:03:56.296476"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 5.6ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 21:04:00 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"3ohjV0PaEnmGIby1GM", "favorite"=>{"giphy_id"=>"3ohjV0PaEnmGIby1GM"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."giphy_id" = $2 LIMIT $3[0m  [["user_id", 2], ["giphy_id", "3ohjV0PaEnmGIby1GM"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "3ohjV0PaEnmGIby1GM"], ["user_id", 2], ["created_at", "2018-01-12 02:04:00.266997"], ["updated_at", "2018-01-12 02:04:00.266997"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"DjizZpWvh96h5Wa1adIXWA\":{\"token\":\"$2a$10$rKLSW3yKMTkLcjL3quMN.eqk4V7q9rZF829qc4F/uJYKFE.hKrUKW\",\"expiry\":1516932229,\"last_token\":\"$2a$10$9FXFxzhoi836Zn5Hq5Tv4OG7uktQSKvvZYDLJ2CrNPISMN4KtoTI6\",\"updated_at\":\"2018-01-11T21:04:00.273-05:00\"}}"], ["updated_at", "2018-01-12 02:04:00.273711"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 12ms (ActiveRecord: 4.9ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 21:04:02 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"3ohjV0PaEnmGIby1GM", "favorite"=>{"giphy_id"=>"3ohjV0PaEnmGIby1GM"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."giphy_id" = $2 LIMIT $3[0m  [["user_id", 2], ["giphy_id", "3ohjV0PaEnmGIby1GM"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"DjizZpWvh96h5Wa1adIXWA\":{\"token\":\"$2a$10$rKLSW3yKMTkLcjL3quMN.eqk4V7q9rZF829qc4F/uJYKFE.hKrUKW\",\"expiry\":1516932229,\"last_token\":\"$2a$10$9FXFxzhoi836Zn5Hq5Tv4OG7uktQSKvvZYDLJ2CrNPISMN4KtoTI6\",\"updated_at\":\"2018-01-11T21:04:02.177-05:00\"}}"], ["updated_at", "2018-01-12 02:04:02.178220"], ["id", 2]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 422 Unprocessable Entity in 9ms (ActiveRecord: 3.9ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:04:09 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:04:09 -0500
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (2.4ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mFavorite Load (74.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35mSQL (1.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"DjizZpWvh96h5Wa1adIXWA\":{\"token\":\"$2a$10$AcWXLaJnL4cO0lLbhZnltO.a2k5rnPYgF6ulAaXPHx.13yDcCFgHe\",\"expiry\":1516932249,\"last_token\":\"$2a$10$rKLSW3yKMTkLcjL3quMN.eqk4V7q9rZF829qc4F/uJYKFE.hKrUKW\",\"updated_at\":\"2018-01-11T21:04:09.083-05:00\"}}"], ["updated_at", "2018-01-12 02:04:09.084440"], ["id", 2]]
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 87ms (Views: 0.2ms | ActiveRecord: 6.8ms)


  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"DjizZpWvh96h5Wa1adIXWA\":{\"token\":\"$2a$10$AcWXLaJnL4cO0lLbhZnltO.a2k5rnPYgF6ulAaXPHx.13yDcCFgHe\",\"expiry\":1516932249,\"last_token\":\"$2a$10$rKLSW3yKMTkLcjL3quMN.eqk4V7q9rZF829qc4F/uJYKFE.hKrUKW\",\"updated_at\":\"2018-01-11T21:04:09.090-05:00\"}}"], ["updated_at", "2018-01-12 02:04:09.090899"], ["id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 86ms (Views: 1.8ms | ActiveRecord: 78.4ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 21:04:10 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:04:10 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-12 02:04:10.610117"], ["id", 2]]
  Parameters: {"token_validation"=>{}}
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 2.0ms)


  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (142.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "gifhub_dev"[0m
  [1m[35m (278.9ms)[0m  [1m[35mCREATE DATABASE "gifhub_dev" ENCODING = 'unicode'[0m
  [1m[35mSQL (0.6ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "favorites" CASCADE[0m
  [1m[35m (11.1ms)[0m  [1m[35mCREATE TABLE "favorites" ("id" bigserial primary key, "giphy_id" character varying, "user_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.2ms)[0m  [1m[35mCREATE  INDEX  "index_favorites_on_user_id" ON "favorites"  ("user_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "provider" character varying DEFAULT 'email' NOT NULL, "uid" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" character varying, "last_sign_in_ip" character varying, "confirmation_token" character varying, "confirmed_at" timestamp, "confirmation_sent_at" timestamp, "unconfirmed_email" character varying, "name" character varying, "nickname" character varying, "image" character varying, "email" character varying, "tokens" json, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.1ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_confirmation_token" ON "users"  ("confirmation_token")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_uid_and_provider" ON "users"  ("uid", "provider")[0m
  [1m[35m (5.8ms)[0m  [1m[35mALTER TABLE "favorites" ADD CONSTRAINT "fk_rails_d15744e438"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (2.8ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20180111015550)[0m
  [1m[35m (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20171222171900);

[0m
  [1m[35m (4.7ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "development"], ["created_at", "2018-01-12 02:06:52.687984"], ["updated_at", "2018-01-12 02:06:52.687984"]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:07:08 -0500
  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Completed 401 Unauthorized in 36ms (Views: 0.3ms | ActiveRecord: 0.0ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:07:13 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:07:13 -0500
Completed 401 Unauthorized in 1ms (Views: 0.2ms | ActiveRecord: 0.0ms)


Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.4ms | ActiveRecord: 4.7ms)


Started POST "/auth" for 127.0.0.1 at 2018-01-11 21:07:33 -0500
Processing by DeviseTokenAuth::RegistrationsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/", "registration"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/"}}
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."provider" = $1 AND "users"."email" = $2[0m  [["provider", "email"], ["email", "sean@example.com"]]
  [1m[35mSQL (1.1ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "email", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["uid", "sean@example.com"], ["encrypted_password", "$2a$10$9/pOjanNHenLIerz923eo.qNHm9rDUl7TFb/VIveOsDQJQPBwhe6e"], ["email", "sean@example.com"], ["tokens", "{}"], ["created_at", "2018-01-12 02:07:33.249236"], ["updated_at", "2018-01-12 02:07:33.249236"]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"Z2lGHcZJUnq3AfDNG8erfw\":{\"token\":\"$2a$10$9Y89rX7Z5Eoo9PRmlCdMNu8m6RNYc8L2rdnr2z9vC0Vb/iOrOk7eC\",\"expiry\":1516932453}}"], ["updated_at", "2018-01-12 02:07:33.318630"], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"Z2lGHcZJUnq3AfDNG8erfw\":{\"token\":\"$2a$10$Exx2AgQlbYs.6q7j/KvHqu7v8fQzJDxzQD2HDvzu.RJWQh8jPpMsK\",\"expiry\":1516932453,\"last_token\":\"$2a$10$9Y89rX7Z5Eoo9PRmlCdMNu8m6RNYc8L2rdnr2z9vC0Vb/iOrOk7eC\",\"updated_at\":\"2018-01-11T21:07:33.390-05:00\"}}"], ["updated_at", "2018-01-12 02:07:33.390846"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 238ms (Views: 0.4ms | ActiveRecord: 13.7ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:07:33 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.8ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"Z2lGHcZJUnq3AfDNG8erfw\":{\"token\":\"$2a$10$Exx2AgQlbYs.6q7j/KvHqu7v8fQzJDxzQD2HDvzu.RJWQh8jPpMsK\",\"expiry\":1516932453,\"last_token\":\"$2a$10$9Y89rX7Z5Eoo9PRmlCdMNu8m6RNYc8L2rdnr2z9vC0Vb/iOrOk7eC\",\"updated_at\":\"2018-01-11T21:07:33.497-05:00\"}}"], ["updated_at", "2018-01-12 02:07:33.498513"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 88ms (Views: 0.3ms | ActiveRecord: 4.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:07:37 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:07:37 -0500
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"Z2lGHcZJUnq3AfDNG8erfw\":{\"token\":\"$2a$10$Exx2AgQlbYs.6q7j/KvHqu7v8fQzJDxzQD2HDvzu.RJWQh8jPpMsK\",\"expiry\":1516932453,\"last_token\":\"$2a$10$9Y89rX7Z5Eoo9PRmlCdMNu8m6RNYc8L2rdnr2z9vC0Vb/iOrOk7eC\",\"updated_at\":\"2018-01-11T21:07:37.389-05:00\"}}"], ["updated_at", "2018-01-12 02:07:37.389869"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 5.0ms)


  [1m[36mUser Load (2.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Load (0.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"Z2lGHcZJUnq3AfDNG8erfw\":{\"token\":\"$2a$10$Exx2AgQlbYs.6q7j/KvHqu7v8fQzJDxzQD2HDvzu.RJWQh8jPpMsK\",\"expiry\":1516932453,\"last_token\":\"$2a$10$9Y89rX7Z5Eoo9PRmlCdMNu8m6RNYc8L2rdnr2z9vC0Vb/iOrOk7eC\",\"updated_at\":\"2018-01-11T21:07:37.428-05:00\"}}"], ["updated_at", "2018-01-12 02:07:37.429385"], ["id", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 48ms (Views: 5.1ms | ActiveRecord: 16.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:07:44 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"Z2lGHcZJUnq3AfDNG8erfw\":{\"token\":\"$2a$10$R1vXPgEuH8kVuiPIEF0uXuQC/IJv5epon7GhQpHD0hsaX875WjZum\",\"expiry\":1516932464,\"last_token\":\"$2a$10$Exx2AgQlbYs.6q7j/KvHqu7v8fQzJDxzQD2HDvzu.RJWQh8jPpMsK\",\"updated_at\":\"2018-01-11T21:07:44.238-05:00\"}}"], ["updated_at", "2018-01-12 02:07:44.239443"], ["id", 1]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 87ms (Views: 0.3ms | ActiveRecord: 4.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:08:43 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"Z2lGHcZJUnq3AfDNG8erfw\":{\"token\":\"$2a$10$EZikFRZdOjGpoa7JkezhUugc/zaxa.VOLRQoEwkbcualZ344mSH1G\",\"expiry\":1516932523,\"last_token\":\"$2a$10$R1vXPgEuH8kVuiPIEF0uXuQC/IJv5epon7GhQpHD0hsaX875WjZum\",\"updated_at\":\"2018-01-11T21:08:43.260-05:00\"}}"], ["updated_at", "2018-01-12 02:08:43.260820"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 155ms (Views: 0.2ms | ActiveRecord: 4.1ms)


Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:08:45 -0500
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:08:45 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  [1m[36mFavorite Load (1.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  Parameters: {"token_validation"=>{}}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (1.4ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"Z2lGHcZJUnq3AfDNG8erfw\":{\"token\":\"$2a$10$EZikFRZdOjGpoa7JkezhUugc/zaxa.VOLRQoEwkbcualZ344mSH1G\",\"expiry\":1516932523,\"last_token\":\"$2a$10$R1vXPgEuH8kVuiPIEF0uXuQC/IJv5epon7GhQpHD0hsaX875WjZum\",\"updated_at\":\"2018-01-11T21:08:45.716-05:00\"}}"], ["updated_at", "2018-01-12 02:08:45.716896"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (3.2ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 87ms (Views: 1.7ms | ActiveRecord: 6.5ms)


  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"Z2lGHcZJUnq3AfDNG8erfw\":{\"token\":\"$2a$10$EZikFRZdOjGpoa7JkezhUugc/zaxa.VOLRQoEwkbcualZ344mSH1G\",\"expiry\":1516932523,\"last_token\":\"$2a$10$R1vXPgEuH8kVuiPIEF0uXuQC/IJv5epon7GhQpHD0hsaX875WjZum\",\"updated_at\":\"2018-01-11T21:08:45.722-05:00\"}}"], ["updated_at", "2018-01-12 02:08:45.723114"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 12ms (Views: 0.2ms | ActiveRecord: 5.0ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:08:47 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.7ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"Z2lGHcZJUnq3AfDNG8erfw\":{\"token\":\"$2a$10$EZikFRZdOjGpoa7JkezhUugc/zaxa.VOLRQoEwkbcualZ344mSH1G\",\"expiry\":1516932523,\"last_token\":\"$2a$10$R1vXPgEuH8kVuiPIEF0uXuQC/IJv5epon7GhQpHD0hsaX875WjZum\",\"updated_at\":\"2018-01-11T21:08:47.350-05:00\"}}"], ["updated_at", "2018-01-12 02:08:47.351494"], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 5.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:09:27 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"Z2lGHcZJUnq3AfDNG8erfw\":{\"token\":\"$2a$10$Q9f.TaNp/IyJHiFq.vk/8OCFXfVUjGw9TCvMQy69/Ue33WFNOIWfy\",\"expiry\":1516932568,\"last_token\":\"$2a$10$EZikFRZdOjGpoa7JkezhUugc/zaxa.VOLRQoEwkbcualZ344mSH1G\",\"updated_at\":\"2018-01-11T21:09:28.002-05:00\"}}"], ["updated_at", "2018-01-12 02:09:28.002934"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 86ms (Views: 0.4ms | ActiveRecord: 6.2ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 21:09:34 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"3ohhwuC9vZOQok6OFW", "favorite"=>{"giphy_id"=>"3ohhwuC9vZOQok6OFW"}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."giphy_id" = $2 LIMIT $3[0m  [["user_id", 1], ["giphy_id", "3ohhwuC9vZOQok6OFW"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "3ohhwuC9vZOQok6OFW"], ["user_id", 1], ["created_at", "2018-01-12 02:09:34.347134"], ["updated_at", "2018-01-12 02:09:34.347134"]]
  [1m[35m (0.7ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"Z2lGHcZJUnq3AfDNG8erfw\":{\"token\":\"$2a$10$A8cMED2oxvUS6uWR9/YF0.w4aAqHkC020YWgQ9eP/X3j1MWMopUsK\",\"expiry\":1516932574,\"last_token\":\"$2a$10$Q9f.TaNp/IyJHiFq.vk/8OCFXfVUjGw9TCvMQy69/Ue33WFNOIWfy\",\"updated_at\":\"2018-01-11T21:09:34.423-05:00\"}}"], ["updated_at", "2018-01-12 02:09:34.423698"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 165ms (ActiveRecord: 9.7ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 21:09:39 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"3ohhwuC9vZOQok6OFW", "favorite"=>{"giphy_id"=>"3ohhwuC9vZOQok6OFW"}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."giphy_id" = $2 LIMIT $3[0m  [["user_id", 1], ["giphy_id", "3ohhwuC9vZOQok6OFW"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"Z2lGHcZJUnq3AfDNG8erfw\":{\"token\":\"$2a$10$OsD2VwBlbDfLTrKey0W5f.8dvvzxCF2I9tM6UG8tRDoE3BbswK5MG\",\"expiry\":1516932579,\"last_token\":\"$2a$10$A8cMED2oxvUS6uWR9/YF0.w4aAqHkC020YWgQ9eP/X3j1MWMopUsK\",\"updated_at\":\"2018-01-11T21:09:39.577-05:00\"}}"], ["updated_at", "2018-01-12 02:09:39.577652"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 422 Unprocessable Entity in 150ms (ActiveRecord: 4.7ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:09:43 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:09:43 -0500
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (73.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFavorite Load (0.8ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mUser Load (1.1ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"Z2lGHcZJUnq3AfDNG8erfw\":{\"token\":\"$2a$10$OsD2VwBlbDfLTrKey0W5f.8dvvzxCF2I9tM6UG8tRDoE3BbswK5MG\",\"expiry\":1516932579,\"last_token\":\"$2a$10$A8cMED2oxvUS6uWR9/YF0.w4aAqHkC020YWgQ9eP/X3j1MWMopUsK\",\"updated_at\":\"2018-01-11T21:09:43.143-05:00\"}}"], ["updated_at", "2018-01-12 02:09:43.143474"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 85ms (Views: 0.2ms | ActiveRecord: 4.4ms)


  [1m[36mUser Load (3.3ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"Z2lGHcZJUnq3AfDNG8erfw\":{\"token\":\"$2a$10$OsD2VwBlbDfLTrKey0W5f.8dvvzxCF2I9tM6UG8tRDoE3BbswK5MG\",\"expiry\":1516932579,\"last_token\":\"$2a$10$A8cMED2oxvUS6uWR9/YF0.w4aAqHkC020YWgQ9eP/X3j1MWMopUsK\",\"updated_at\":\"2018-01-11T21:09:43.152-05:00\"}}"], ["updated_at", "2018-01-12 02:09:43.152832"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 90ms (Views: 1.3ms | ActiveRecord: 78.6ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:09:45 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.1ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"Z2lGHcZJUnq3AfDNG8erfw\":{\"token\":\"$2a$10$OsD2VwBlbDfLTrKey0W5f.8dvvzxCF2I9tM6UG8tRDoE3BbswK5MG\",\"expiry\":1516932579,\"last_token\":\"$2a$10$A8cMED2oxvUS6uWR9/YF0.w4aAqHkC020YWgQ9eP/X3j1MWMopUsK\",\"updated_at\":\"2018-01-11T21:09:46.002-05:00\"}}"], ["updated_at", "2018-01-12 02:09:46.002870"], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 4.7ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 21:09:47 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-12 02:09:47.602792"], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 10ms (Views: 0.2ms | ActiveRecord: 3.2ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:09:49 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.5ms)


Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:09:49 -0500
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.3ms)


Started POST "/auth" for 127.0.0.1 at 2018-01-11 21:10:04 -0500
Processing by DeviseTokenAuth::RegistrationsController#create as JSON
  Parameters: {"email"=>"john@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/", "registration"=>{"email"=>"john@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/"}}
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "john@example.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."provider" = $1 AND "users"."email" = $2[0m  [["provider", "email"], ["email", "john@example.com"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("uid", "encrypted_password", "email", "tokens", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["uid", "john@example.com"], ["encrypted_password", "$2a$10$NdwT.YgPh49mQTMUTIWRaOYgXul9XKmXS1VsqQcxtVk/bW.BKFS66"], ["email", "john@example.com"], ["tokens", "{}"], ["created_at", "2018-01-12 02:10:04.332298"], ["updated_at", "2018-01-12 02:10:04.332298"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WcdrlKKnwV0dGHAuYJ6_eQ\":{\"token\":\"$2a$10$TZZxEFgWXrlJRhj.MzIAV.rLA1dW4dFJKVrFsQpQZzD0qOw7zM3MS\",\"expiry\":1516932604}}"], ["updated_at", "2018-01-12 02:10:04.406824"], ["id", 2]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WcdrlKKnwV0dGHAuYJ6_eQ\":{\"token\":\"$2a$10$N4JaWNOlbA2OcwXi4lk05e763mm4SAFD7tcUC8vLUmecjvTLOEcL6\",\"expiry\":1516932604,\"last_token\":\"$2a$10$TZZxEFgWXrlJRhj.MzIAV.rLA1dW4dFJKVrFsQpQZzD0qOw7zM3MS\",\"updated_at\":\"2018-01-11T21:10:04.480-05:00\"}}"], ["updated_at", "2018-01-12 02:10:04.481191"], ["id", 2]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 227ms (Views: 0.3ms | ActiveRecord: 10.0ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:10:04 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WcdrlKKnwV0dGHAuYJ6_eQ\":{\"token\":\"$2a$10$N4JaWNOlbA2OcwXi4lk05e763mm4SAFD7tcUC8vLUmecjvTLOEcL6\",\"expiry\":1516932604,\"last_token\":\"$2a$10$TZZxEFgWXrlJRhj.MzIAV.rLA1dW4dFJKVrFsQpQZzD0qOw7zM3MS\",\"updated_at\":\"2018-01-11T21:10:04.579-05:00\"}}"], ["updated_at", "2018-01-12 02:10:04.580173"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 3.7ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:10:07 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:10:07 -0500
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.7ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mFavorite Load (2.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35mSQL (1.3ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WcdrlKKnwV0dGHAuYJ6_eQ\":{\"token\":\"$2a$10$N4JaWNOlbA2OcwXi4lk05e763mm4SAFD7tcUC8vLUmecjvTLOEcL6\",\"expiry\":1516932604,\"last_token\":\"$2a$10$TZZxEFgWXrlJRhj.MzIAV.rLA1dW4dFJKVrFsQpQZzD0qOw7zM3MS\",\"updated_at\":\"2018-01-11T21:10:07.060-05:00\"}}"], ["updated_at", "2018-01-12 02:10:07.061297"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 5.3ms)


  [1m[36mUser Load (1.8ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WcdrlKKnwV0dGHAuYJ6_eQ\":{\"token\":\"$2a$10$N4JaWNOlbA2OcwXi4lk05e763mm4SAFD7tcUC8vLUmecjvTLOEcL6\",\"expiry\":1516932604,\"last_token\":\"$2a$10$TZZxEFgWXrlJRhj.MzIAV.rLA1dW4dFJKVrFsQpQZzD0qOw7zM3MS\",\"updated_at\":\"2018-01-11T21:10:07.068-05:00\"}}"], ["updated_at", "2018-01-12 02:10:07.069000"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 16ms (Views: 1.5ms | ActiveRecord: 6.5ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:10:08 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WcdrlKKnwV0dGHAuYJ6_eQ\":{\"token\":\"$2a$10$N4JaWNOlbA2OcwXi4lk05e763mm4SAFD7tcUC8vLUmecjvTLOEcL6\",\"expiry\":1516932604,\"last_token\":\"$2a$10$TZZxEFgWXrlJRhj.MzIAV.rLA1dW4dFJKVrFsQpQZzD0qOw7zM3MS\",\"updated_at\":\"2018-01-11T21:10:08.417-05:00\"}}"], ["updated_at", "2018-01-12 02:10:08.417730"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 4.9ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 21:10:14 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"VsSksaIufXQR2", "favorite"=>{"giphy_id"=>"VsSksaIufXQR2"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."giphy_id" = $2 LIMIT $3[0m  [["user_id", 2], ["giphy_id", "VsSksaIufXQR2"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "VsSksaIufXQR2"], ["user_id", 2], ["created_at", "2018-01-12 02:10:14.166074"], ["updated_at", "2018-01-12 02:10:14.166074"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WcdrlKKnwV0dGHAuYJ6_eQ\":{\"token\":\"$2a$10$3Qa6KkJ/odU1QRoWE9aPreqK6DlJ6jO7nCX55kNQ0e8OiwGg0ZBpK\",\"expiry\":1516932614,\"last_token\":\"$2a$10$N4JaWNOlbA2OcwXi4lk05e763mm4SAFD7tcUC8vLUmecjvTLOEcL6\",\"updated_at\":\"2018-01-11T21:10:14.240-05:00\"}}"], ["updated_at", "2018-01-12 02:10:14.241227"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 83ms (ActiveRecord: 6.8ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 21:10:16 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"VsSksaIufXQR2", "favorite"=>{"giphy_id"=>"VsSksaIufXQR2"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."giphy_id" = $2 LIMIT $3[0m  [["user_id", 2], ["giphy_id", "VsSksaIufXQR2"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WcdrlKKnwV0dGHAuYJ6_eQ\":{\"token\":\"$2a$10$3Qa6KkJ/odU1QRoWE9aPreqK6DlJ6jO7nCX55kNQ0e8OiwGg0ZBpK\",\"expiry\":1516932614,\"last_token\":\"$2a$10$N4JaWNOlbA2OcwXi4lk05e763mm4SAFD7tcUC8vLUmecjvTLOEcL6\",\"updated_at\":\"2018-01-11T21:10:17.052-05:00\"}}"], ["updated_at", "2018-01-12 02:10:17.053418"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 422 Unprocessable Entity in 78ms (ActiveRecord: 4.0ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:10:18 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:10:18 -0500
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (2.3ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mFavorite Load (3.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35mSQL (1.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WcdrlKKnwV0dGHAuYJ6_eQ\":{\"token\":\"$2a$10$3Qa6KkJ/odU1QRoWE9aPreqK6DlJ6jO7nCX55kNQ0e8OiwGg0ZBpK\",\"expiry\":1516932614,\"last_token\":\"$2a$10$N4JaWNOlbA2OcwXi4lk05e763mm4SAFD7tcUC8vLUmecjvTLOEcL6\",\"updated_at\":\"2018-01-11T21:10:18.839-05:00\"}}"], ["updated_at", "2018-01-12 02:10:18.840144"], ["id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 7.1ms)


  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"WcdrlKKnwV0dGHAuYJ6_eQ\":{\"token\":\"$2a$10$3Qa6KkJ/odU1QRoWE9aPreqK6DlJ6jO7nCX55kNQ0e8OiwGg0ZBpK\",\"expiry\":1516932614,\"last_token\":\"$2a$10$N4JaWNOlbA2OcwXi4lk05e763mm4SAFD7tcUC8vLUmecjvTLOEcL6\",\"updated_at\":\"2018-01-11T21:10:18.847-05:00\"}}"], ["updated_at", "2018-01-12 02:10:18.847993"], ["id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 16ms (Views: 2.0ms | ActiveRecord: 6.6ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 21:10:23 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-12 02:10:23.808908"], ["id", 2]]
Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:10:23 -0500
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 3.4ms)


  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.3ms | ActiveRecord: 0.3ms)


Started POST "/auth" for 127.0.0.1 at 2018-01-11 21:10:36 -0500
Processing by DeviseTokenAuth::RegistrationsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/", "registration"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/"}}
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (2.9ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."provider" = $1 AND "users"."email" = $2[0m  [["provider", "email"], ["email", "sean@example.com"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 82ms (Views: 0.3ms | ActiveRecord: 3.7ms)


Started POST "/auth" for 127.0.0.1 at 2018-01-11 21:13:10 -0500
Processing by DeviseTokenAuth::RegistrationsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/signup", "registration"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/signup"}}
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."provider" = $1 AND "users"."email" = $2[0m  [["provider", "email"], ["email", "sean@example.com"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 74ms (Views: 0.2ms | ActiveRecord: 1.2ms)


Started POST "/auth" for 127.0.0.1 at 2018-01-11 21:17:28 -0500
Processing by DeviseTokenAuth::RegistrationsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/signup", "registration"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/signup"}}
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."provider" = $1 AND "users"."email" = $2[0m  [["provider", "email"], ["email", "sean@example.com"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 76ms (Views: 0.2ms | ActiveRecord: 1.3ms)


Started POST "/auth" for 127.0.0.1 at 2018-01-11 21:18:08 -0500
Processing by DeviseTokenAuth::RegistrationsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/signup", "registration"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/signup"}}
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."provider" = $1 AND "users"."email" = $2[0m  [["provider", "email"], ["email", "sean@example.com"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 74ms (Views: 0.2ms | ActiveRecord: 1.3ms)


Started POST "/auth" for 127.0.0.1 at 2018-01-11 21:18:57 -0500
Processing by DeviseTokenAuth::RegistrationsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/signup", "registration"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/signup"}}
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."provider" = $1 AND "users"."email" = $2[0m  [["provider", "email"], ["email", "sean@example.com"]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 77ms (Views: 0.3ms | ActiveRecord: 1.1ms)


Started POST "/auth" for 127.0.0.1 at 2018-01-11 21:19:53 -0500
Processing by DeviseTokenAuth::RegistrationsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/signup", "registration"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "confirm_success_url"=>"http://localhost:4200/signup"}}
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
Unpermitted parameters: :confirm_success_url, :registration
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" WHERE "users"."provider" = $1 AND "users"."email" = $2[0m  [["provider", "email"], ["email", "sean@example.com"]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
Completed 422 Unprocessable Entity in 78ms (Views: 0.2ms | ActiveRecord: 1.1ms)


Started POST "/auth/sign_in" for 127.0.0.1 at 2018-01-11 21:20:19 -0500
Processing by DeviseTokenAuth::SessionsController#create as JSON
  Parameters: {"email"=>"sean@example.coma", "password"=>"[FILTERED]", "session"=>{"email"=>"sean@example.coma", "password"=>"[FILTERED]"}}
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (email = 'sean@example.coma' AND provider='email') ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.9ms)


Started POST "/auth/sign_in" for 127.0.0.1 at 2018-01-11 21:20:23 -0500
Processing by DeviseTokenAuth::SessionsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "session"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]"}}
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (email = 'sean@example.com' AND provider='email') ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"OfJuduI6-TYQ0rNbM9FIKA\":{\"token\":\"$2a$10$am3GXT.AEtI6kGeW0Imhieg15x3FmA6xlk100fNYEj8Og9MsaMviG\",\"expiry\":1516933223}}"], ["updated_at", "2018-01-12 02:20:23.882031"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-01-12 02:20:23.886285"], ["last_sign_in_at", "2018-01-12 02:20:23.886285"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-01-12 02:20:23.887045"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"OfJuduI6-TYQ0rNbM9FIKA\":{\"token\":\"$2a$10$5oqY/vz1ihH/qsHVQwqB8eIFeyb8GErMfJmuiqq8ceZKIdh7OFhn.\",\"expiry\":1516933223,\"last_token\":\"$2a$10$am3GXT.AEtI6kGeW0Imhieg15x3FmA6xlk100fNYEj8Og9MsaMviG\",\"updated_at\":\"2018-01-11T21:20:23.959-05:00\"}}"], ["updated_at", "2018-01-12 02:20:23.959789"], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 220ms (Views: 0.2ms | ActiveRecord: 8.1ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:20:24 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"OfJuduI6-TYQ0rNbM9FIKA\":{\"token\":\"$2a$10$5oqY/vz1ihH/qsHVQwqB8eIFeyb8GErMfJmuiqq8ceZKIdh7OFhn.\",\"expiry\":1516933223,\"last_token\":\"$2a$10$am3GXT.AEtI6kGeW0Imhieg15x3FmA6xlk100fNYEj8Og9MsaMviG\",\"updated_at\":\"2018-01-11T21:20:24.087-05:00\"}}"], ["updated_at", "2018-01-12 02:20:24.088050"], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 82ms (Views: 0.2ms | ActiveRecord: 4.1ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 21:20:28 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"xAsHqxmhIRirS", "favorite"=>{"giphy_id"=>"xAsHqxmhIRirS"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."giphy_id" = $2 LIMIT $3[0m  [["user_id", 1], ["giphy_id", "xAsHqxmhIRirS"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "xAsHqxmhIRirS"], ["user_id", 1], ["created_at", "2018-01-12 02:20:28.647695"], ["updated_at", "2018-01-12 02:20:28.647695"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"OfJuduI6-TYQ0rNbM9FIKA\":{\"token\":\"$2a$10$5oqY/vz1ihH/qsHVQwqB8eIFeyb8GErMfJmuiqq8ceZKIdh7OFhn.\",\"expiry\":1516933223,\"last_token\":\"$2a$10$am3GXT.AEtI6kGeW0Imhieg15x3FmA6xlk100fNYEj8Og9MsaMviG\",\"updated_at\":\"2018-01-11T21:20:28.652-05:00\"}}"], ["updated_at", "2018-01-12 02:20:28.653441"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 12ms (ActiveRecord: 4.5ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:20:29 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:20:29 -0500
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (2.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFavorite Load (1.1ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[36mUser Load (1.9ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"OfJuduI6-TYQ0rNbM9FIKA\":{\"token\":\"$2a$10$5oqY/vz1ihH/qsHVQwqB8eIFeyb8GErMfJmuiqq8ceZKIdh7OFhn.\",\"expiry\":1516933223,\"last_token\":\"$2a$10$am3GXT.AEtI6kGeW0Imhieg15x3FmA6xlk100fNYEj8Og9MsaMviG\",\"updated_at\":\"2018-01-11T21:20:29.865-05:00\"}}"], ["updated_at", "2018-01-12 02:20:29.865868"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (3.3ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 16ms (Views: 0.3ms | ActiveRecord: 7.5ms)


  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"OfJuduI6-TYQ0rNbM9FIKA\":{\"token\":\"$2a$10$5oqY/vz1ihH/qsHVQwqB8eIFeyb8GErMfJmuiqq8ceZKIdh7OFhn.\",\"expiry\":1516933223,\"last_token\":\"$2a$10$am3GXT.AEtI6kGeW0Imhieg15x3FmA6xlk100fNYEj8Og9MsaMviG\",\"updated_at\":\"2018-01-11T21:20:29.872-05:00\"}}"], ["updated_at", "2018-01-12 02:20:29.872957"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 20ms (Views: 2.1ms | ActiveRecord: 8.4ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:20:37 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 21:20:37 -0500
  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"OfJuduI6-TYQ0rNbM9FIKA\":{\"token\":\"$2a$10$6NYe4HVNe03uVte9arFuCuCtsG6SaD3MhFQjrorC5Hty7QM3gqmXC\",\"expiry\":1516933237,\"last_token\":\"$2a$10$5oqY/vz1ihH/qsHVQwqB8eIFeyb8GErMfJmuiqq8ceZKIdh7OFhn.\",\"updated_at\":\"2018-01-11T21:20:37.521-05:00\"}}"], ["updated_at", "2018-01-12 02:20:37.522525"], ["id", 1]]
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 87ms (Views: 0.3ms | ActiveRecord: 4.4ms)


  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-12 02:20:37.530789"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 1.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:20:46 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:20:46 -0500
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Processing by Api::FavoritesController#index as JSON
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.7ms)


  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.2ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 21:20:52 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 404 Not Found in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:20:52 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.3ms)


Started POST "/auth/sign_in" for 127.0.0.1 at 2018-01-11 21:20:59 -0500
Processing by DeviseTokenAuth::SessionsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "session"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]"}}
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (email = 'sean@example.com' AND provider='email') ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"slgmcxderFyoukM-2lfE4g\":{\"token\":\"$2a$10$6x3X3ywOLtQew.iYMBw2yeVWlUblkYf9hOul3u3r0TVKV9LVTwmwe\",\"expiry\":1516933259}}"], ["updated_at", "2018-01-12 02:20:59.729294"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["sign_in_count", 2], ["current_sign_in_at", "2018-01-12 02:20:59.733578"], ["updated_at", "2018-01-12 02:20:59.734150"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"slgmcxderFyoukM-2lfE4g\":{\"token\":\"$2a$10$gfHftVV2cCloRRoUhU50U.Zbg.M3GIDorM1yrRAl8IsstgyAPAcZW\",\"expiry\":1516933259,\"last_token\":\"$2a$10$6x3X3ywOLtQew.iYMBw2yeVWlUblkYf9hOul3u3r0TVKV9LVTwmwe\",\"updated_at\":\"2018-01-11T21:20:59.807-05:00\"}}"], ["updated_at", "2018-01-12 02:20:59.807785"], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 219ms (Views: 0.2ms | ActiveRecord: 7.7ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:20:59 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"slgmcxderFyoukM-2lfE4g\":{\"token\":\"$2a$10$gfHftVV2cCloRRoUhU50U.Zbg.M3GIDorM1yrRAl8IsstgyAPAcZW\",\"expiry\":1516933259,\"last_token\":\"$2a$10$6x3X3ywOLtQew.iYMBw2yeVWlUblkYf9hOul3u3r0TVKV9LVTwmwe\",\"updated_at\":\"2018-01-11T21:20:59.906-05:00\"}}"], ["updated_at", "2018-01-12 02:20:59.906514"], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 3.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:21:00 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:21:00 -0500
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (3.1ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFavorite Load (3.3ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35mSQL (2.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"slgmcxderFyoukM-2lfE4g\":{\"token\":\"$2a$10$gfHftVV2cCloRRoUhU50U.Zbg.M3GIDorM1yrRAl8IsstgyAPAcZW\",\"expiry\":1516933259,\"last_token\":\"$2a$10$6x3X3ywOLtQew.iYMBw2yeVWlUblkYf9hOul3u3r0TVKV9LVTwmwe\",\"updated_at\":\"2018-01-11T21:21:00.928-05:00\"}}"], ["updated_at", "2018-01-12 02:21:00.929439"], ["id", 1]]
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (1.2ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 19ms (Views: 0.2ms | ActiveRecord: 9.4ms)


  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"slgmcxderFyoukM-2lfE4g\":{\"token\":\"$2a$10$gfHftVV2cCloRRoUhU50U.Zbg.M3GIDorM1yrRAl8IsstgyAPAcZW\",\"expiry\":1516933259,\"last_token\":\"$2a$10$6x3X3ywOLtQew.iYMBw2yeVWlUblkYf9hOul3u3r0TVKV9LVTwmwe\",\"updated_at\":\"2018-01-11T21:21:00.938-05:00\"}}"], ["updated_at", "2018-01-12 02:21:00.939614"], ["id", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 20ms (Views: 2.9ms | ActiveRecord: 6.9ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 21:21:02 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.9ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-12 02:21:02.530178"], ["id", 1]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 3.4ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:21:02 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 0.5ms)


Started POST "/auth/sign_in" for 127.0.0.1 at 2018-01-11 21:21:20 -0500
Processing by DeviseTokenAuth::SessionsController#create as JSON
  Parameters: {"email"=>"sean@example.com", "password"=>"[FILTERED]", "session"=>{"email"=>"sean@example.com", "password"=>"[FILTERED]"}}
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (email = 'sean@example.com' AND provider='email') ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"u5Lk6WqUXsuYlHcR_dUoRw\":{\"token\":\"$2a$10$3f83S0yvuUpM9zZkKsYCTedb8Q1GbF4zzPqm7PhnLvJDiKTBmxAVC\",\"expiry\":1516933280}}"], ["updated_at", "2018-01-12 02:21:20.682186"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["sign_in_count", 3], ["current_sign_in_at", "2018-01-12 02:21:20.686246"], ["last_sign_in_at", "2018-01-12 02:20:59.733578"], ["updated_at", "2018-01-12 02:21:20.686897"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"u5Lk6WqUXsuYlHcR_dUoRw\":{\"token\":\"$2a$10$daki.ABbjw1dUOCP5quSheS/eruoksLeeRigXFQ90hipa9cIOpD3q\",\"expiry\":1516933280,\"last_token\":\"$2a$10$3f83S0yvuUpM9zZkKsYCTedb8Q1GbF4zzPqm7PhnLvJDiKTBmxAVC\",\"updated_at\":\"2018-01-11T21:21:20.760-05:00\"}}"], ["updated_at", "2018-01-12 02:21:20.761042"], ["id", 1]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 215ms (Views: 0.2ms | ActiveRecord: 8.1ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:21:20 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"u5Lk6WqUXsuYlHcR_dUoRw\":{\"token\":\"$2a$10$daki.ABbjw1dUOCP5quSheS/eruoksLeeRigXFQ90hipa9cIOpD3q\",\"expiry\":1516933280,\"last_token\":\"$2a$10$3f83S0yvuUpM9zZkKsYCTedb8Q1GbF4zzPqm7PhnLvJDiKTBmxAVC\",\"updated_at\":\"2018-01-11T21:21:20.858-05:00\"}}"], ["updated_at", "2018-01-12 02:21:20.859113"], ["id", 1]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 80ms (Views: 0.2ms | ActiveRecord: 3.7ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:21:21 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:21:21 -0500
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.8ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mFavorite Load (2.5ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35mSQL (2.1ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"u5Lk6WqUXsuYlHcR_dUoRw\":{\"token\":\"$2a$10$daki.ABbjw1dUOCP5quSheS/eruoksLeeRigXFQ90hipa9cIOpD3q\",\"expiry\":1516933280,\"last_token\":\"$2a$10$3f83S0yvuUpM9zZkKsYCTedb8Q1GbF4zzPqm7PhnLvJDiKTBmxAVC\",\"updated_at\":\"2018-01-11T21:21:21.941-05:00\"}}"], ["updated_at", "2018-01-12 02:21:21.941878"], ["id", 1]]
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (2.4ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mUser Load (1.4ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
Completed 200 OK in 17ms (Views: 0.2ms | ActiveRecord: 6.0ms)


  [1m[35mSQL (0.8ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"u5Lk6WqUXsuYlHcR_dUoRw\":{\"token\":\"$2a$10$daki.ABbjw1dUOCP5quSheS/eruoksLeeRigXFQ90hipa9cIOpD3q\",\"expiry\":1516933280,\"last_token\":\"$2a$10$3f83S0yvuUpM9zZkKsYCTedb8Q1GbF4zzPqm7PhnLvJDiKTBmxAVC\",\"updated_at\":\"2018-01-11T21:21:21.949-05:00\"}}"], ["updated_at", "2018-01-12 02:21:21.949878"], ["id", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 17ms (Views: 2.2ms | ActiveRecord: 6.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:21:23 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (1.0ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"u5Lk6WqUXsuYlHcR_dUoRw\":{\"token\":\"$2a$10$daki.ABbjw1dUOCP5quSheS/eruoksLeeRigXFQ90hipa9cIOpD3q\",\"expiry\":1516933280,\"last_token\":\"$2a$10$3f83S0yvuUpM9zZkKsYCTedb8Q1GbF4zzPqm7PhnLvJDiKTBmxAVC\",\"updated_at\":\"2018-01-11T21:21:23.259-05:00\"}}"], ["updated_at", "2018-01-12 02:21:23.259891"], ["id", 1]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 13ms (Views: 0.3ms | ActiveRecord: 4.6ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 21:21:26 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"a82f8VIS9KOXe", "favorite"=>{"giphy_id"=>"a82f8VIS9KOXe"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."giphy_id" = $2 LIMIT $3[0m  [["user_id", 1], ["giphy_id", "a82f8VIS9KOXe"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "a82f8VIS9KOXe"], ["user_id", 1], ["created_at", "2018-01-12 02:21:26.346194"], ["updated_at", "2018-01-12 02:21:26.346194"]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"u5Lk6WqUXsuYlHcR_dUoRw\":{\"token\":\"$2a$10$daki.ABbjw1dUOCP5quSheS/eruoksLeeRigXFQ90hipa9cIOpD3q\",\"expiry\":1516933280,\"last_token\":\"$2a$10$3f83S0yvuUpM9zZkKsYCTedb8Q1GbF4zzPqm7PhnLvJDiKTBmxAVC\",\"updated_at\":\"2018-01-11T21:21:26.351-05:00\"}}"], ["updated_at", "2018-01-12 02:21:26.352197"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 12ms (ActiveRecord: 4.8ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:21:27 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:21:27 -0500
Processing by Api::FavoritesController#index as JSON
  [1m[36mUser Load (1.1ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  Parameters: {"favorite"=>{}}
  [1m[35mSQL (1.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"u5Lk6WqUXsuYlHcR_dUoRw\":{\"token\":\"$2a$10$daki.ABbjw1dUOCP5quSheS/eruoksLeeRigXFQ90hipa9cIOpD3q\",\"expiry\":1516933280,\"last_token\":\"$2a$10$3f83S0yvuUpM9zZkKsYCTedb8Q1GbF4zzPqm7PhnLvJDiKTBmxAVC\",\"updated_at\":\"2018-01-11T21:21:27.367-05:00\"}}"], ["updated_at", "2018-01-12 02:21:27.368071"], ["id", 1]]
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (2.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 13ms (Views: 0.2ms | ActiveRecord: 5.8ms)


  [1m[36mFavorite Load (0.4ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"u5Lk6WqUXsuYlHcR_dUoRw\":{\"token\":\"$2a$10$daki.ABbjw1dUOCP5quSheS/eruoksLeeRigXFQ90hipa9cIOpD3q\",\"expiry\":1516933280,\"last_token\":\"$2a$10$3f83S0yvuUpM9zZkKsYCTedb8Q1GbF4zzPqm7PhnLvJDiKTBmxAVC\",\"updated_at\":\"2018-01-11T21:21:27.379-05:00\"}}"], ["updated_at", "2018-01-12 02:21:27.379774"], ["id", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 13ms (Views: 2.7ms | ActiveRecord: 2.5ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 21:21:28 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-12 02:21:28.991388"], ["id", 1]]
Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:21:28 -0500
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
Completed 200 OK in 9ms (Views: 0.2ms | ActiveRecord: 3.3ms)


  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "sean@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.2ms | ActiveRecord: 0.4ms)


Started POST "/auth/sign_in" for 127.0.0.1 at 2018-01-11 21:21:42 -0500
Processing by DeviseTokenAuth::SessionsController#create as JSON
  Parameters: {"email"=>"john@example.com", "password"=>"[FILTERED]", "session"=>{"email"=>"john@example.com", "password"=>"[FILTERED]"}}
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (email = 'john@example.com' AND provider='email') ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"shMoTSnK461CVuKZ4_AArA\":{\"token\":\"$2a$10$K57c522VgKgmQOIiTcpc1OV1mwgQWcNYkz8k5JXlKhc..fiHSCDNu\",\"expiry\":1516933302}}"], ["updated_at", "2018-01-12 02:21:42.599413"], ["id", 2]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "last_sign_in_at" = $3, "current_sign_in_ip" = $4, "last_sign_in_ip" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["sign_in_count", 1], ["current_sign_in_at", "2018-01-12 02:21:42.603733"], ["last_sign_in_at", "2018-01-12 02:21:42.603733"], ["current_sign_in_ip", "127.0.0.1"], ["last_sign_in_ip", "127.0.0.1"], ["updated_at", "2018-01-12 02:21:42.604456"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"shMoTSnK461CVuKZ4_AArA\":{\"token\":\"$2a$10$/NajqL3rsiEhOONo5EVMVOVfzSpkj0.ndt0ZJ5QEetXBUViNCxRKK\",\"expiry\":1516933302,\"last_token\":\"$2a$10$K57c522VgKgmQOIiTcpc1OV1mwgQWcNYkz8k5JXlKhc..fiHSCDNu\",\"updated_at\":\"2018-01-11T21:21:42.682-05:00\"}}"], ["updated_at", "2018-01-12 02:21:42.682641"], ["id", 2]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 225ms (Views: 0.2ms | ActiveRecord: 7.9ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:21:42 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.6ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"shMoTSnK461CVuKZ4_AArA\":{\"token\":\"$2a$10$/NajqL3rsiEhOONo5EVMVOVfzSpkj0.ndt0ZJ5QEetXBUViNCxRKK\",\"expiry\":1516933302,\"last_token\":\"$2a$10$K57c522VgKgmQOIiTcpc1OV1mwgQWcNYkz8k5JXlKhc..fiHSCDNu\",\"updated_at\":\"2018-01-11T21:21:42.780-05:00\"}}"], ["updated_at", "2018-01-12 02:21:42.781135"], ["id", 2]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 82ms (Views: 0.2ms | ActiveRecord: 3.5ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:21:44 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:21:44 -0500
Processing by Api::FavoritesController#index as JSON
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  Parameters: {"favorite"=>{}}
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (2.0ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mFavorite Load (3.0ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35mSQL (1.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"shMoTSnK461CVuKZ4_AArA\":{\"token\":\"$2a$10$/NajqL3rsiEhOONo5EVMVOVfzSpkj0.ndt0ZJ5QEetXBUViNCxRKK\",\"expiry\":1516933302,\"last_token\":\"$2a$10$K57c522VgKgmQOIiTcpc1OV1mwgQWcNYkz8k5JXlKhc..fiHSCDNu\",\"updated_at\":\"2018-01-11T21:21:44.379-05:00\"}}"], ["updated_at", "2018-01-12 02:21:44.379952"], ["id", 2]]
  [1m[35m (1.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 15ms (Views: 0.2ms | ActiveRecord: 6.6ms)


  [1m[36mUser Load (1.0ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"shMoTSnK461CVuKZ4_AArA\":{\"token\":\"$2a$10$/NajqL3rsiEhOONo5EVMVOVfzSpkj0.ndt0ZJ5QEetXBUViNCxRKK\",\"expiry\":1516933302,\"last_token\":\"$2a$10$K57c522VgKgmQOIiTcpc1OV1mwgQWcNYkz8k5JXlKhc..fiHSCDNu\",\"updated_at\":\"2018-01-11T21:21:44.386-05:00\"}}"], ["updated_at", "2018-01-12 02:21:44.387595"], ["id", 2]]
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 18ms (Views: 1.9ms | ActiveRecord: 7.7ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 21:21:46 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.7ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-12 02:21:46.214416"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 8ms (Views: 0.2ms | ActiveRecord: 3.2ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:21:46 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.2ms | ActiveRecord: 1.0ms)


Started POST "/auth/sign_in" for 127.0.0.1 at 2018-01-11 21:21:58 -0500
Processing by DeviseTokenAuth::SessionsController#create as JSON
  Parameters: {"email"=>"john@example.com", "password"=>"[FILTERED]", "session"=>{"email"=>"john@example.com", "password"=>"[FILTERED]"}}
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE (email = 'john@example.com' AND provider='email') ORDER BY "users"."id" ASC LIMIT $1[0m  [["LIMIT", 1]]
Unpermitted parameter: :session
Unpermitted parameter: :session
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"2uGDrAdxcrekIXZR7swNBQ\":{\"token\":\"$2a$10$prOBdHk6yKMPJP.ES4HF2ekOpaiTqzpXFlOWNtmnlyP2prnRvKCFK\",\"expiry\":1516933318}}"], ["updated_at", "2018-01-12 02:21:58.219912"], ["id", 2]]
  [1m[35m (2.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "sign_in_count" = $1, "current_sign_in_at" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["sign_in_count", 2], ["current_sign_in_at", "2018-01-12 02:21:58.224359"], ["updated_at", "2018-01-12 02:21:58.225060"], ["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.4ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"2uGDrAdxcrekIXZR7swNBQ\":{\"token\":\"$2a$10$JfYygiRNlUPS22MdEOxV4uzVBinFTlTEqzwWLL7Vc9R/6kI596c5K\",\"expiry\":1516933318,\"last_token\":\"$2a$10$prOBdHk6yKMPJP.ES4HF2ekOpaiTqzpXFlOWNtmnlyP2prnRvKCFK\",\"updated_at\":\"2018-01-11T21:21:58.294-05:00\"}}"], ["updated_at", "2018-01-12 02:21:58.295289"], ["id", 2]]
  [1m[35m (2.2ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 215ms (Views: 0.2ms | ActiveRecord: 7.9ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:21:58 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"2uGDrAdxcrekIXZR7swNBQ\":{\"token\":\"$2a$10$JfYygiRNlUPS22MdEOxV4uzVBinFTlTEqzwWLL7Vc9R/6kI596c5K\",\"expiry\":1516933318,\"last_token\":\"$2a$10$prOBdHk6yKMPJP.ES4HF2ekOpaiTqzpXFlOWNtmnlyP2prnRvKCFK\",\"updated_at\":\"2018-01-11T21:21:58.394-05:00\"}}"], ["updated_at", "2018-01-12 02:21:58.395215"], ["id", 2]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 81ms (Views: 0.2ms | ActiveRecord: 3.4ms)


Started POST "/api/favorites" for 127.0.0.1 at 2018-01-11 21:22:05 -0500
Processing by Api::FavoritesController#create as JSON
  Parameters: {"giphy_id"=>"ISOckXUybVfQ4", "favorite"=>{"giphy_id"=>"ISOckXUybVfQ4"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[36mFavorite Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "favorites" WHERE "favorites"."user_id" = $1 AND "favorites"."giphy_id" = $2 LIMIT $3[0m  [["user_id", 2], ["giphy_id", "ISOckXUybVfQ4"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "favorites" ("giphy_id", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["giphy_id", "ISOckXUybVfQ4"], ["user_id", 2], ["created_at", "2018-01-12 02:22:05.803594"], ["updated_at", "2018-01-12 02:22:05.803594"]]
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mUser Load (0.5ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.6ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"2uGDrAdxcrekIXZR7swNBQ\":{\"token\":\"$2a$10$ExOVcHOvhZdk7B6q8K2BpeUtWKBGNcjgMHEtoj5Vfj6NbSSt1vB82\",\"expiry\":1516933325,\"last_token\":\"$2a$10$JfYygiRNlUPS22MdEOxV4uzVBinFTlTEqzwWLL7Vc9R/6kI596c5K\",\"updated_at\":\"2018-01-11T21:22:05.877-05:00\"}}"], ["updated_at", "2018-01-12 02:22:05.877761"], ["id", 2]]
  [1m[35m (2.0ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 82ms (ActiveRecord: 6.5ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:22:07 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:22:07 -0500
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (73.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[36mFavorite Load (0.9ms)[0m  [1m[34mSELECT "favorites".* FROM "favorites" WHERE "favorites"."user_id" = $1[0m  [["user_id", 2]]
  [1m[36mUser Load (1.9ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"2uGDrAdxcrekIXZR7swNBQ\":{\"token\":\"$2a$10$ExOVcHOvhZdk7B6q8K2BpeUtWKBGNcjgMHEtoj5Vfj6NbSSt1vB82\",\"expiry\":1516933325,\"last_token\":\"$2a$10$JfYygiRNlUPS22MdEOxV4uzVBinFTlTEqzwWLL7Vc9R/6kI596c5K\",\"updated_at\":\"2018-01-11T21:22:07.120-05:00\"}}"], ["updated_at", "2018-01-12 02:22:07.121040"], ["id", 2]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 87ms (Views: 0.2ms | ActiveRecord: 5.8ms)


  [1m[36mUser Load (3.3ms)[0m  [1m[37mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2 FOR UPDATE[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.5ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{\"2uGDrAdxcrekIXZR7swNBQ\":{\"token\":\"$2a$10$ExOVcHOvhZdk7B6q8K2BpeUtWKBGNcjgMHEtoj5Vfj6NbSSt1vB82\",\"expiry\":1516933325,\"last_token\":\"$2a$10$JfYygiRNlUPS22MdEOxV4uzVBinFTlTEqzwWLL7Vc9R/6kI596c5K\",\"updated_at\":\"2018-01-11T21:22:07.127-05:00\"}}"], ["updated_at", "2018-01-12 02:22:07.127934"], ["id", 2]]
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
Completed 200 OK in 89ms (Views: 1.9ms | ActiveRecord: 79.0ms)


Started DELETE "/auth/sign_out" for 127.0.0.1 at 2018-01-11 21:22:11 -0500
Processing by DeviseTokenAuth::SessionsController#destroy as JSON
  Parameters: {"session"=>{}}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35mSQL (1.4ms)[0m  [1m[33mUPDATE "users" SET "tokens" = $1, "updated_at" = $2 WHERE "users"."id" = $3[0m  [["tokens", "{}"], ["updated_at", "2018-01-12 02:22:11.222455"], ["id", 2]]
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:22:11 -0500
Completed 200 OK in 11ms (Views: 0.2ms | ActiveRecord: 5.1ms)


Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 1.1ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:24:32 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
Started GET "/api/favorites" for 127.0.0.1 at 2018-01-11 21:24:32 -0500
  Parameters: {"token_validation"=>{}}
Processing by Api::FavoritesController#index as JSON
  Parameters: {"favorite"=>{}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Filter chain halted as :authenticate_user! rendered or redirected
Completed 401 Unauthorized in 3ms (Views: 0.1ms | ActiveRecord: 0.2ms)


Started GET "/auth/validate_token" for 127.0.0.1 at 2018-01-11 21:24:35 -0500
Processing by DeviseTokenAuth::TokenValidationsController#validate_token as JSON
  Parameters: {"token_validation"=>{}}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."uid" = $1 LIMIT $2[0m  [["uid", "john@example.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 3ms (Views: 0.5ms | ActiveRecord: 0.6ms)


